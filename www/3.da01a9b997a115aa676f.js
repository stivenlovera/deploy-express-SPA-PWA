(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{ROBH:function(e,t,i){"use strict";i.r(t),i.d(t,"TicketPageModule",function(){return Ii});var o=i("ofXK"),n=i("3Pt+"),s=i("fXoL"),r=i("XNiG"),a=i("xgIS"),l=i("2Vo4"),c=i("zx2A");function h(e){return t=>t.lift(new d(e))}class d{constructor(e){this.notifier=e}call(e,t){const i=new u(e),o=Object(c.c)(this.notifier,new c.a(i));return o&&!i.seenValue?(i.add(o),t.subscribe(i)):i}}class u extends c.b{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var g=i("mrSG");const p=["*"];function b(e,t){1&e&&s.Mb(0,"datatable-progress")}function m(e,t){if(1&e&&s.Mb(0,"datatable-summary-row",9),2&e){const e=s.ac(2);s.fc("rowHeight",e.summaryHeight)("offsetX",e.offsetX)("innerWidth",e.innerWidth)("rows",e.rows)("columns",e.columns)}}function f(e,t){if(1&e){const e=s.Rb();s.Qb(0,"datatable-body-row",13),s.Yb("treeAction",function(){s.oc(e);const t=s.ac().$implicit;return s.ac(2).onTreeAction(t)})("activate",function(t){s.oc(e);const i=s.ac().index,o=s.ac(2);return s.mc(2).onActivate(t,o.indexes.first+i)}),s.Pb()}if(2&e){const e=s.ac().$implicit,t=s.ac(2),i=s.mc(2);s.fc("isSelected",i.getRowSelected(e))("innerWidth",t.innerWidth)("offsetX",t.offsetX)("columns",t.columns)("rowHeight",t.getRowHeight(e))("row",e)("rowIndex",t.getRowIndex(e))("expanded",t.getRowExpanded(e))("rowClass",t.rowClass)("displayCheck",t.displayCheck)("treeStatus",e&&e.treeStatus)}}function w(e,t){if(1&e){const e=s.Rb();s.Qb(0,"datatable-body-row",15),s.Yb("activate",function(i){s.oc(e);const o=t.index;return s.ac(4),s.mc(2).onActivate(i,o)}),s.Pb()}if(2&e){const e=t.$implicit,i=s.ac(2).$implicit,o=s.ac(2),n=s.mc(2);s.fc("isSelected",n.getRowSelected(e))("innerWidth",o.innerWidth)("offsetX",o.offsetX)("columns",o.columns)("rowHeight",o.getRowHeight(e))("row",e)("group",i.value)("rowIndex",o.getRowIndex(e))("expanded",o.getRowExpanded(e))("rowClass",o.rowClass)}}function y(e,t){if(1&e&&s.tc(0,w,1,10,"datatable-body-row",14),2&e){const e=s.ac().$implicit,t=s.ac(2);s.fc("ngForOf",e.value)("ngForTrackBy",t.rowTrackingFn)}}function v(e,t){if(1&e){const e=s.Rb();s.Qb(0,"datatable-row-wrapper",10),s.Yb("rowContextmenu",function(t){return s.oc(e),s.ac(2).rowContextmenu.emit(t)}),s.tc(1,f,1,11,"datatable-body-row",11),s.tc(2,y,1,2,"ng-template",null,12,s.uc),s.Pb()}if(2&e){const e=t.$implicit,i=t.index,o=s.mc(3),n=s.ac(2);s.fc("groupedRows",n.groupedRows)("innerWidth",n.innerWidth)("ngStyle",n.getRowsStyles(e))("rowDetail",n.rowDetail)("groupHeader",n.groupHeader)("offsetX",n.offsetX)("detailRowHeight",n.getDetailRowHeight(e&&e[i],i))("row",e)("expanded",n.getRowExpanded(e))("rowIndex",n.getRowIndex(e&&e[i])),s.zb(1),s.fc("ngIf",!n.groupedRows)("ngIfElse",o)}}function x(e,t){if(1&e&&s.Mb(0,"datatable-summary-row",16),2&e){const e=s.ac(2);s.fc("ngStyle",e.getBottomSummaryRowStyles())("rowHeight",e.summaryHeight)("offsetX",e.offsetX)("innerWidth",e.innerWidth)("rows",e.rows)("columns",e.columns)}}function C(e,t){if(1&e){const e=s.Rb();s.Qb(0,"datatable-scroller",5),s.Yb("scroll",function(t){return s.oc(e),s.ac().onBodyScroll(t)}),s.tc(1,m,1,5,"datatable-summary-row",6),s.tc(2,v,4,12,"datatable-row-wrapper",7),s.tc(3,x,1,6,"datatable-summary-row",8),s.Pb()}if(2&e){const e=s.ac();s.fc("scrollbarV",e.scrollbarV)("scrollbarH",e.scrollbarH)("scrollHeight",e.scrollHeight)("scrollWidth",null==e.columnGroupWidths?null:e.columnGroupWidths.total),s.zb(1),s.fc("ngIf",e.summaryRow&&"top"===e.summaryPosition),s.zb(1),s.fc("ngForOf",e.temp)("ngForTrackBy",e.rowTrackingFn),s.zb(1),s.fc("ngIf",e.summaryRow&&"bottom"===e.summaryPosition)}}function P(e,t){if(1&e&&s.Mb(0,"div",17),2&e){const e=s.ac();s.fc("innerHTML",e.emptyMessage,s.pc)}}function k(e,t){if(1&e){const e=s.Rb();s.Qb(0,"datatable-header-cell",4),s.Yb("resize",function(i){s.oc(e);const o=t.$implicit;return s.ac(2).onColumnResized(i,o)})("longPressStart",function(t){return s.oc(e),s.ac(2).onLongPressStart(t)})("longPressEnd",function(t){return s.oc(e),s.ac(2).onLongPressEnd(t)})("sort",function(t){return s.oc(e),s.ac(2).onSort(t)})("select",function(t){return s.oc(e),s.ac(2).select.emit(t)})("columnContextmenu",function(t){return s.oc(e),s.ac(2).columnContextmenu.emit(t)}),s.Pb()}if(2&e){const e=t.$implicit,i=s.ac(2);s.fc("resizeEnabled",e.resizeable)("pressModel",e)("pressEnabled",i.reorderable&&e.draggable)("dragX",i.reorderable&&e.draggable&&e.dragging)("dragY",!1)("dragModel",e)("dragEventTarget",i.dragEventTarget)("headerHeight",i.headerHeight)("isTarget",e.isTarget)("targetMarkerTemplate",i.targetMarkerTemplate)("targetMarkerContext",e.targetMarkerContext)("column",e)("sortType",i.sortType)("sorts",i.sorts)("selectionType",i.selectionType)("sortAscendingIcon",i.sortAscendingIcon)("sortDescendingIcon",i.sortDescendingIcon)("sortUnsetIcon",i.sortUnsetIcon)("allRowsSelected",i.allRowsSelected)}}function _(e,t){if(1&e&&(s.Qb(0,"div",2),s.tc(1,k,1,19,"datatable-header-cell",3),s.Pb()),2&e){const e=t.$implicit,i=s.ac();s.Bb("datatable-row-"+e.type),s.fc("ngStyle",i._styleByGroup[e.type]),s.zb(1),s.fc("ngForOf",e.columns)("ngForTrackBy",i.columnTrackingFn)}}function I(e,t){if(1&e){const e=s.Rb();s.Qb(0,"datatable-header",4),s.Yb("sort",function(t){return s.oc(e),s.ac().onColumnSort(t)})("resize",function(t){return s.oc(e),s.ac().onColumnResize(t)})("reorder",function(t){return s.oc(e),s.ac().onColumnReorder(t)})("select",function(t){return s.oc(e),s.ac().onHeaderSelect(t)})("columnContextmenu",function(t){return s.oc(e),s.ac().onColumnContextmenu(t)}),s.bc(1,"async"),s.Pb()}if(2&e){const e=s.ac();s.fc("sorts",e.sorts)("sortType",e.sortType)("scrollbarH",e.scrollbarH)("innerWidth",e._innerWidth)("offsetX",s.cc(1,15,e._offsetX))("dealsWithGroup",void 0!==e.groupedRows)("columns",e._internalColumns)("headerHeight",e.headerHeight)("reorderable",e.reorderable)("targetMarkerTemplate",e.targetMarkerTemplate)("sortAscendingIcon",e.cssClasses.sortAscending)("sortDescendingIcon",e.cssClasses.sortDescending)("sortUnsetIcon",e.cssClasses.sortUnset)("allRowsSelected",e.allRowsSelected)("selectionType",e.selectionType)}}function T(e,t){if(1&e){const e=s.Rb();s.Qb(0,"datatable-footer",5),s.Yb("page",function(t){return s.oc(e),s.ac().onFooterPage(t)}),s.Pb()}if(2&e){const e=s.ac();s.fc("rowCount",e.rowCount)("pageSize",e.pageSize)("offset",e.offset)("footerHeight",e.footerHeight)("footerTemplate",e.footer)("totalMessage",e.messages.totalMessage)("pagerLeftArrowIcon",e.cssClasses.pagerLeftArrow)("pagerRightArrowIcon",e.cssClasses.pagerRightArrow)("pagerPreviousIcon",e.cssClasses.pagerPrevious)("selectedCount",e.selected.length)("selectedMessage",!!e.selectionType&&e.messages.selectedMessage)("pagerNextIcon",e.cssClasses.pagerNext)}}function S(e,t){}function M(e,t){if(1&e&&s.tc(0,S,0,0,"ng-template",5),2&e){const e=s.ac();s.fc("ngTemplateOutlet",e.targetMarkerTemplate)("ngTemplateOutletContext",e.targetMarkerContext)}}function z(e,t){if(1&e){const e=s.Rb();s.Qb(0,"label",6),s.Qb(1,"input",7),s.Yb("change",function(){s.oc(e);const t=s.ac();return t.select.emit(!t.allRowsSelected)}),s.Pb(),s.Pb()}if(2&e){const e=s.ac();s.zb(1),s.fc("checked",e.allRowsSelected)}}function R(e,t){if(1&e){const e=s.Rb();s.Qb(0,"span",8),s.Qb(1,"span",9),s.Yb("click",function(){return s.oc(e),s.ac().onSort()}),s.Pb(),s.Pb()}if(2&e){const e=s.ac();s.zb(1),s.fc("innerHTML",e.name,s.pc)}}function H(e,t){}function Q(e,t){if(1&e&&s.tc(0,H,0,0,"ng-template",5),2&e){const e=s.ac();s.fc("ngTemplateOutlet",e.column.headerTemplate)("ngTemplateOutletContext",e.cellContext)}}function F(e,t){}const E=function(e,t,i,o,n){return{rowCount:e,pageSize:t,selectedCount:i,curPage:o,offset:n}};function D(e,t){if(1&e&&s.tc(0,F,0,0,"ng-template",4),2&e){const e=s.ac();s.fc("ngTemplateOutlet",e.footerTemplate.template)("ngTemplateOutletContext",s.jc(2,E,e.rowCount,e.pageSize,e.selectedCount,e.curPage,e.offset))}}function A(e,t){if(1&e&&(s.Qb(0,"span"),s.vc(1),s.Pb()),2&e){const e=s.ac(2);s.zb(1),s.yc(" ",null==e.selectedCount?null:e.selectedCount.toLocaleString()," ",e.selectedMessage," / ")}}function O(e,t){if(1&e&&(s.Qb(0,"div",5),s.tc(1,A,2,2,"span",1),s.vc(2),s.Pb()),2&e){const e=s.ac();s.zb(1),s.fc("ngIf",e.selectedMessage),s.zb(1),s.yc(" ",null==e.rowCount?null:e.rowCount.toLocaleString()," ",e.totalMessage," ")}}function L(e,t){if(1&e){const e=s.Rb();s.Qb(0,"datatable-pager",6),s.Yb("change",function(t){return s.oc(e),s.ac().page.emit(t)}),s.Pb()}if(2&e){const e=s.ac();s.fc("pagerLeftArrowIcon",e.pagerLeftArrowIcon)("pagerRightArrowIcon",e.pagerRightArrowIcon)("pagerPreviousIcon",e.pagerPreviousIcon)("pagerNextIcon",e.pagerNextIcon)("page",e.curPage)("size",e.pageSize)("count",e.rowCount)("hidden",!e.isVisible)}}const W=function(e){return{"selected-count":e}};function V(e,t){if(1&e){const e=s.Rb();s.Qb(0,"li",6),s.Qb(1,"a",7),s.Yb("click",function(){s.oc(e);const i=t.$implicit;return s.ac().selectPage(i.number)}),s.vc(2),s.Pb(),s.Pb()}if(2&e){const e=t.$implicit,i=s.ac();s.Db("active",e.number===i.page),s.Ab("aria-label","page "+e.number),s.zb(2),s.xc(" ",e.text," ")}}function B(e,t){if(1&e){const e=s.Rb();s.Qb(0,"datatable-body-cell",3),s.Yb("activate",function(i){s.oc(e);const o=t.index;return s.ac(2).onActivate(i,o)})("treeAction",function(){return s.oc(e),s.ac(2).onTreeAction()}),s.Pb()}if(2&e){const e=t.$implicit,i=s.ac(2);s.fc("row",i.row)("group",i.group)("expanded",i.expanded)("isSelected",i.isSelected)("rowIndex",i.rowIndex)("column",e)("rowHeight",i.rowHeight)("displayCheck",i.displayCheck)("treeStatus",i.treeStatus)}}function N(e,t){if(1&e&&(s.Qb(0,"div",1),s.tc(1,B,1,9,"datatable-body-cell",2),s.Pb()),2&e){const e=t.$implicit,i=s.ac();s.Cb("datatable-row-",e.type," datatable-row-group"),s.fc("ngStyle",i._groupStyles[e.type]),s.zb(1),s.fc("ngForOf",e.columns)("ngForTrackBy",i.columnTrackingFn)}}function Y(e,t){}function q(e,t){if(1&e&&s.tc(0,Y,0,0,"ng-template",4),2&e){const e=s.ac(2);s.fc("ngTemplateOutlet",e.groupHeader.template)("ngTemplateOutletContext",e.groupContext)}}function $(e,t){if(1&e&&(s.Qb(0,"div",3),s.tc(1,q,1,2,void 0,1),s.Pb()),2&e){const e=s.ac();s.fc("ngStyle",e.getGroupHeaderStyle()),s.zb(1),s.fc("ngIf",e.groupHeader&&e.groupHeader.template)}}function j(e,t){1&e&&s.dc(0,0,["*ngIf","(groupHeader && groupHeader.template && expanded) || !groupHeader || !groupHeader.template"])}function G(e,t){}function X(e,t){if(1&e&&s.tc(0,G,0,0,"ng-template",4),2&e){const e=s.ac(2);s.fc("ngTemplateOutlet",e.rowDetail.template)("ngTemplateOutletContext",e.rowContext)}}function U(e,t){if(1&e&&(s.Qb(0,"div",5),s.tc(1,X,1,2,void 0,1),s.Pb()),2&e){const e=s.ac();s.sc("height",e.detailRowHeight,"px"),s.zb(1),s.fc("ngIf",e.rowDetail&&e.rowDetail.template)}}const Z=["cellTemplate"];function K(e,t){if(1&e){const e=s.Rb();s.Qb(0,"label",4),s.Qb(1,"input",5),s.Yb("click",function(t){return s.oc(e),s.ac().onCheckboxChange(t)}),s.Pb(),s.Pb()}if(2&e){const e=s.ac();s.zb(1),s.fc("checked",e.isSelected)}}function J(e,t){1&e&&s.Mb(0,"i",11)}function ee(e,t){1&e&&s.Mb(0,"i",12)}function te(e,t){1&e&&s.Mb(0,"i",13)}function ie(e,t){if(1&e){const e=s.Rb();s.Qb(0,"button",7),s.Yb("click",function(){return s.oc(e),s.ac(2).onTreeAction()}),s.Qb(1,"span"),s.tc(2,J,1,0,"i",8),s.tc(3,ee,1,0,"i",9),s.tc(4,te,1,0,"i",10),s.Pb(),s.Pb()}if(2&e){const e=s.ac(2);s.fc("disabled","disabled"===e.treeStatus),s.zb(2),s.fc("ngIf","loading"===e.treeStatus),s.zb(1),s.fc("ngIf","collapsed"===e.treeStatus),s.zb(1),s.fc("ngIf","expanded"===e.treeStatus||"disabled"===e.treeStatus)}}function oe(e,t){}const ne=function(e){return{cellContext:e}};function se(e,t){if(1&e&&s.tc(0,oe,0,0,"ng-template",14),2&e){const e=s.ac(2);s.fc("ngTemplateOutlet",e.column.treeToggleTemplate)("ngTemplateOutletContext",s.hc(2,ne,e.cellContext))}}function re(e,t){if(1&e&&(s.Ob(0),s.tc(1,ie,5,4,"button",6),s.tc(2,se,1,4,void 0,2),s.Nb()),2&e){const e=s.ac();s.zb(1),s.fc("ngIf",!e.column.treeToggleTemplate),s.zb(1),s.fc("ngIf",e.column.treeToggleTemplate)}}function ae(e,t){if(1&e&&s.Mb(0,"span",15),2&e){const e=s.ac();s.fc("title",e.sanitizedValue)("innerHTML",e.value,s.pc)}}function le(e,t){}function ce(e,t){if(1&e&&s.tc(0,le,0,0,"ng-template",14,16,s.uc),2&e){const e=s.ac();s.fc("ngTemplateOutlet",e.column.cellTemplate)("ngTemplateOutletContext",e.cellContext)}}function he(e,t){if(1&e&&s.Mb(0,"datatable-body-row",1),2&e){const e=s.ac();s.fc("innerWidth",e.innerWidth)("offsetX",e.offsetX)("columns",e._internalColumns)("rowHeight",e.rowHeight)("row",e.summaryRow)("rowIndex",-1)}}let de=(()=>{class e{constructor(e){this.document=e,this.width=this.getWidth()}getWidth(){const e=this.document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",this.document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const i=this.document.createElement("div");i.style.width="100%",e.appendChild(i);const o=i.offsetWidth;return e.parentNode.removeChild(e),t-o}}return e.\u0275fac=function(t){return new(t||e)(s.Ub(o.d))},e.\u0275prov=s.Hb({token:e,factory:e.\u0275fac}),e})(),ue=(()=>{class e{getDimensions(e){return e.getBoundingClientRect()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Hb({token:e,factory:e.\u0275fac}),e})(),ge=(()=>{class e{constructor(){this.columnInputChanges=new r.a}get columnInputChanges$(){return this.columnInputChanges.asObservable()}onInputChange(){this.columnInputChanges.next()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Hb({token:e,factory:e.\u0275fac}),e})(),pe=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.M))},e.\u0275dir=s.Gb({type:e,selectors:[["","ngx-datatable-footer-template",""]]}),e})(),be=(()=>{class e{constructor(e,t){this.element=e,this.zone=t,this.isVisible=!1,this.visible=new s.o}ngOnInit(){this.runCheck()}ngOnDestroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{const{offsetHeight:t,offsetWidth:i}=this.element.nativeElement;t&&i?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),50)}))};this.timeout=setTimeout(()=>e())}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.m),s.Lb(s.B))},e.\u0275dir=s.Gb({type:e,selectors:[["","visibilityObserver",""]],hostVars:2,hostBindings:function(e,t){2&e&&s.Db("visible",t.isVisible)},outputs:{visible:"visible"}}),e})(),me=(()=>{class e{constructor(e){this.dragX=!0,this.dragY=!0,this.dragStart=new s.o,this.dragging=new s.o,this.dragEnd=new s.o,this.isDragging=!1,this.element=e.nativeElement}ngOnChanges(e){e.dragEventTarget&&e.dragEventTarget.currentValue&&this.dragModel.dragging&&this.onMousedown(e.dragEventTarget.currentValue)}ngOnDestroy(){this._destroySubscription()}onMouseup(e){this.isDragging&&(this.isDragging=!1,this.element.classList.remove("dragging"),this.subscription&&(this._destroySubscription(),this.dragEnd.emit({event:e,element:this.element,model:this.dragModel})))}onMousedown(e){if(e.target.classList.contains("draggable")&&(this.dragX||this.dragY)){e.preventDefault(),this.isDragging=!0;const t={x:e.clientX,y:e.clientY},i=Object(a.a)(document,"mouseup");this.subscription=i.subscribe(e=>this.onMouseup(e));const o=Object(a.a)(document,"mousemove").pipe(h(i)).subscribe(e=>this.move(e,t));this.subscription.add(o),this.dragStart.emit({event:e,element:this.element,model:this.dragModel})}}move(e,t){if(!this.isDragging)return;const i=e.clientY-t.y;this.dragX&&(this.element.style.left=e.clientX-t.x+"px"),this.dragY&&(this.element.style.top=`${i}px`),this.element.classList.add("dragging"),this.dragging.emit({event:e,element:this.element,model:this.dragModel})}_destroySubscription(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.m))},e.\u0275dir=s.Gb({type:e,selectors:[["","draggable",""]],inputs:{dragX:"dragX",dragY:"dragY",dragEventTarget:"dragEventTarget",dragModel:"dragModel"},outputs:{dragStart:"dragStart",dragging:"dragging",dragEnd:"dragEnd"},features:[s.xb]}),e})(),fe=(()=>{class e{constructor(e,t){this.renderer=t,this.resizeEnabled=!0,this.resize=new s.o,this.resizing=!1,this.element=e.nativeElement}ngAfterViewInit(){const e=this.renderer;this.resizeHandle=e.createElement("span"),e.addClass(this.resizeHandle,this.resizeEnabled?"resize-handle":"resize-handle--not-resizable"),e.appendChild(this.element,this.resizeHandle)}ngOnDestroy(){this._destroySubscription(),this.renderer.destroyNode?this.renderer.destroyNode(this.resizeHandle):this.resizeHandle&&this.renderer.removeChild(this.renderer.parentNode(this.resizeHandle),this.resizeHandle)}onMouseup(){this.resizing=!1,this.subscription&&!this.subscription.closed&&(this._destroySubscription(),this.resize.emit(this.element.clientWidth))}onMousedown(e){const t=e.target.classList.contains("resize-handle"),i=this.element.clientWidth,o=e.screenX;if(t){e.stopPropagation(),this.resizing=!0;const t=Object(a.a)(document,"mouseup");this.subscription=t.subscribe(e=>this.onMouseup());const n=Object(a.a)(document,"mousemove").pipe(h(t)).subscribe(e=>this.move(e,i,o));this.subscription.add(n)}}move(e,t,i){const o=t+(e.screenX-i);(!this.minWidth||o>=this.minWidth)&&(!this.maxWidth||o<=this.maxWidth)&&(this.element.style.width=`${o}px`)}_destroySubscription(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.m),s.Lb(s.F))},e.\u0275dir=s.Gb({type:e,selectors:[["","resizeable",""]],hostVars:2,hostBindings:function(e,t){1&e&&s.Yb("mousedown",function(e){return t.onMousedown(e)}),2&e&&s.Db("resizeable",t.resizeEnabled)},inputs:{resizeEnabled:"resizeEnabled",minWidth:"minWidth",maxWidth:"maxWidth"},outputs:{resize:"resize"}}),e})(),we=(()=>{class e{constructor(e,t){this.document=t,this.reorder=new s.o,this.targetChanged=new s.o,this.differ=e.find({}).create()}ngAfterContentInit(){this.updateSubscriptions(),this.draggables.changes.subscribe(this.updateSubscriptions.bind(this))}ngOnDestroy(){this.draggables.forEach(e=>{e.dragStart.unsubscribe(),e.dragging.unsubscribe(),e.dragEnd.unsubscribe()})}updateSubscriptions(){const e=this.differ.diff(this.createMapDiffs());if(e){const t=({currentValue:e,previousValue:t})=>{i({previousValue:t}),e&&(e.dragStart.subscribe(this.onDragStart.bind(this)),e.dragging.subscribe(this.onDragging.bind(this)),e.dragEnd.subscribe(this.onDragEnd.bind(this)))},i=({previousValue:e})=>{e&&(e.dragStart.unsubscribe(),e.dragging.unsubscribe(),e.dragEnd.unsubscribe())};e.forEachAddedItem(t),e.forEachRemovedItem(i)}}onDragStart(){this.positions={};let e=0;for(const t of this.draggables.toArray()){const i=t.element,o=parseInt(i.offsetLeft.toString(),0);this.positions[t.dragModel.prop]={left:o,right:o+parseInt(i.offsetWidth.toString(),0),index:e++,element:i}}}onDragging({model:e,event:t}){const i=this.positions[e.prop],o=this.isTarget(e,t);o?this.lastDraggingIndex!==o.i&&(this.targetChanged.emit({prevIndex:this.lastDraggingIndex,newIndex:o.i,initialIndex:i.index}),this.lastDraggingIndex=o.i):this.lastDraggingIndex!==i.index&&(this.targetChanged.emit({prevIndex:this.lastDraggingIndex,initialIndex:i.index}),this.lastDraggingIndex=i.index)}onDragEnd({element:e,model:t,event:i}){const o=this.positions[t.prop],n=this.isTarget(t,i);n&&this.reorder.emit({prevIndex:o.index,newIndex:n.i,model:t}),this.lastDraggingIndex=void 0,e.style.left="auto"}isTarget(e,t){let i=0;const o=this.document.elementsFromPoint(t.x||t.clientX,t.y||t.clientY);for(const n in this.positions){const t=this.positions[n];if(e.prop!==n&&o.find(e=>e===t.element))return{pos:t,i:i};i++}}createMapDiffs(){return this.draggables.toArray().reduce((e,t)=>(e[t.dragModel.$$id]=t,e),{})}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.v),s.Lb(o.d))},e.\u0275dir=s.Gb({type:e,selectors:[["","orderable",""]],contentQueries:function(e,t,i){if(1&e&&s.Eb(i,me,1),2&e){let e;s.lc(e=s.Zb())&&(t.draggables=e)}},outputs:{reorder:"reorder",targetChanged:"targetChanged"}}),e})(),ye=(()=>{class e{constructor(){this.pressEnabled=!0,this.duration=500,this.longPressStart=new s.o,this.longPressing=new s.o,this.longPressEnd=new s.o,this.mouseX=0,this.mouseY=0}get press(){return this.pressing}get isLongPress(){return this.isLongPressing}onMouseDown(e){if(1!==e.which||!this.pressEnabled)return;if(e.target.classList.contains("resize-handle"))return;this.mouseX=e.clientX,this.mouseY=e.clientY,this.pressing=!0,this.isLongPressing=!1;const t=Object(a.a)(document,"mouseup");this.subscription=t.subscribe(e=>this.onMouseup()),this.timeout=setTimeout(()=>{this.isLongPressing=!0,this.longPressStart.emit({event:e,model:this.pressModel}),this.subscription.add(Object(a.a)(document,"mousemove").pipe(h(t)).subscribe(e=>this.onMouseMove(e))),this.loop(e)},this.duration),this.loop(e)}onMouseMove(e){if(this.pressing&&!this.isLongPressing){const t=Math.abs(e.clientX-this.mouseX)>10,i=Math.abs(e.clientY-this.mouseY)>10;(t||i)&&this.endPress()}}loop(e){this.isLongPressing&&(this.timeout=setTimeout(()=>{this.longPressing.emit({event:e,model:this.pressModel}),this.loop(e)},50))}endPress(){clearTimeout(this.timeout),this.isLongPressing=!1,this.pressing=!1,this._destroySubscription(),this.longPressEnd.emit({model:this.pressModel})}onMouseup(){this.endPress()}ngOnDestroy(){this._destroySubscription()}_destroySubscription(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.Gb({type:e,selectors:[["","long-press",""]],hostVars:4,hostBindings:function(e,t){1&e&&s.Yb("mousedown",function(e){return t.onMouseDown(e)}),2&e&&s.Db("press",t.press)("longpress",t.isLongPress)},inputs:{pressEnabled:"pressEnabled",duration:"duration",pressModel:"pressModel"},outputs:{longPressStart:"longPressStart",longPressing:"longPressing",longPressEnd:"longPressEnd"}}),e})(),ve=(()=>{class e{constructor(e,t,i){this.ngZone=e,this.renderer=i,this.scrollbarV=!1,this.scrollbarH=!1,this.scroll=new s.o,this.scrollYPos=0,this.scrollXPos=0,this.prevScrollYPos=0,this.prevScrollXPos=0,this._scrollEventListener=null,this.element=t.nativeElement}ngOnInit(){if(this.scrollbarV||this.scrollbarH){const e=this.renderer;this.parentElement=e.parentNode(e.parentNode(this.element)),this._scrollEventListener=this.onScrolled.bind(this),this.parentElement.addEventListener("scroll",this._scrollEventListener)}}ngOnDestroy(){this._scrollEventListener&&(this.parentElement.removeEventListener("scroll",this._scrollEventListener),this._scrollEventListener=null)}setOffset(e){this.parentElement&&(this.parentElement.scrollTop=e)}onScrolled(e){const t=e.currentTarget;requestAnimationFrame(()=>{this.scrollYPos=t.scrollTop,this.scrollXPos=t.scrollLeft,this.updateOffset()})}updateOffset(){let e;this.scrollYPos<this.prevScrollYPos?e="down":this.scrollYPos>this.prevScrollYPos&&(e="up"),this.scroll.emit({direction:e,scrollYPos:this.scrollYPos,scrollXPos:this.scrollXPos}),this.prevScrollYPos=this.scrollYPos,this.prevScrollXPos=this.scrollXPos}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.B),s.Lb(s.m),s.Lb(s.F))},e.\u0275cmp=s.Fb({type:e,selectors:[["datatable-scroller"]],hostAttrs:[1,"datatable-scroll"],hostVars:4,hostBindings:function(e,t){2&e&&s.sc("height",t.scrollHeight,"px")("width",t.scrollWidth,"px")},inputs:{scrollbarV:"scrollbarV",scrollbarH:"scrollbarH",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth"},outputs:{scroll:"scroll"},ngContentSelectors:p,decls:1,vars:0,template:function(e,t){1&e&&(s.ec(),s.dc(0))},encapsulation:2,changeDetection:0}),e})(),xe=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.M))},e.\u0275dir=s.Gb({type:e,selectors:[["","ngx-datatable-group-header-template",""]]}),e})(),Ce=(()=>{class e{constructor(){this.rowHeight=0,this.toggle=new s.o}get template(){return this._templateInput||this._templateQuery}toggleExpandGroup(e){this.toggle.emit({type:"group",value:e})}expandAllGroups(){this.toggle.emit({type:"all",value:!0})}collapseAllGroups(){this.toggle.emit({type:"all",value:!1})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.Gb({type:e,selectors:[["ngx-datatable-group-header"]],contentQueries:function(e,t,i){if(1&e&&s.Eb(i,xe,3,s.M),2&e){let e;s.lc(e=s.Zb())&&(t._templateQuery=e.first)}},inputs:{rowHeight:"rowHeight",_templateInput:["template","_templateInput"]},outputs:{toggle:"toggle"}}),e})();function Pe(){return""}function ke(e){return null==e?Pe:"number"==typeof e?_e:-1!==e.indexOf(".")?Te:Ie}function _e(e,t){if(null==e)return"";if(!e||null==t)return e;const i=e[t];return null==i?"":i}function Ie(e,t){if(null==e)return"";if(!e||!t)return e;const i=e[t];return null==i?"":i}function Te(e,t){if(null==e)return"";if(!e||!t)return e;let i=e[t];if(void 0!==i)return i;i=e;const o=t.split(".");if(o.length)for(let n=0;n<o.length;n++)if(i=i[o[n]],null==i)return"";return i}function Se(e){return e&&(t=>ke(e)(t,e))}function Me(e,t,i){if(t&&i){const o={},n=e.length;let s=null;o[0]=new ze;const r=e.reduce((e,t)=>{const o=i(t);return-1===e.indexOf(o)&&e.push(o),e},[]);for(let t=0;t<n;t++)o[i(e[t])]=new ze(e[t]);for(let l=0;l<n;l++){s=o[i(e[l])];let n=0;const a=t(s.row);a&&r.indexOf(a)>-1&&(n=a),s.parent=o[n],s.row.level=s.parent.row.level+1,s.parent.children.push(s)}let a=[];return o[0].flatten(function(){a=[...a,this.row]},!0),a}return e}class ze{constructor(e=null){e||(e={level:-1,treeStatus:"expanded"}),this.row=e,this.parent=null,this.children=[]}flatten(e,t){if("expanded"===this.row.treeStatus)for(let i=0,o=this.children.length;i<o;i++){const o=this.children[i];e.apply(o,Array.prototype.slice.call(arguments,2)),t&&o.flatten.apply(o,arguments)}}}function Re(e){return(e=(e=(e=e.replace(/[^a-zA-Z0-9 ]/g," ")).replace(/([a-z](?=[A-Z]))/g,"$1 ")).replace(/([^a-zA-Z0-9 ])|^[0-9]+/g,"").trim().toLowerCase()).replace(/([ 0-9]+)([a-zA-Z])/g,function(e,t,i){return t.trim()+i.toUpperCase()})}function He(e){if(!e)return;let t=!1;for(const i of e)i.$$id||(i.$$id=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)),Qe(i.prop)&&i.name&&(i.prop=Re(i.name)),i.$$valueGetter||(i.$$valueGetter=ke(i.prop)),!Qe(i.prop)&&Qe(i.name)&&(i.name=String(i.prop).replace(/([A-Z])/g,e=>` ${e}`).replace(/^./,e=>e.toUpperCase())),Qe(i.prop)&&Qe(i.name)&&(i.name=""),i.hasOwnProperty("resizeable")||(i.resizeable=!0),i.hasOwnProperty("sortable")||(i.sortable=!0),i.hasOwnProperty("draggable")||(i.draggable=!0),i.hasOwnProperty("canAutoResize")||(i.canAutoResize=!0),i.hasOwnProperty("width")||(i.width=150),i.hasOwnProperty("isTreeColumn")&&i.isTreeColumn&&!t?t=!0:i.isTreeColumn=!1}function Qe(e){return null==e}var Fe=function(e){return e.standard="standard",e.flex="flex",e.force="force",e}({}),Ee=function(e){return e.single="single",e.multi="multi",e.multiClick="multiClick",e.cell="cell",e.checkbox="checkbox",e}({}),De=function(e){return e.single="single",e.multi="multi",e}({}),Ae=function(e){return e.header="header",e.body="body",e}({});let Oe=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.M))},e.\u0275dir=s.Gb({type:e,selectors:[["","ngx-datatable-header-template",""]]}),e})(),Le=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.M))},e.\u0275dir=s.Gb({type:e,selectors:[["","ngx-datatable-cell-template",""]]}),e})(),We=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.M))},e.\u0275dir=s.Gb({type:e,selectors:[["","ngx-datatable-tree-toggle",""]]}),e})(),Ve=(()=>{class e{constructor(e){this.columnChangesService=e,this.isFirstChange=!0}get cellTemplate(){return this._cellTemplateInput||this._cellTemplateQuery}get headerTemplate(){return this._headerTemplateInput||this._headerTemplateQuery}get treeToggleTemplate(){return this._treeToggleTemplateInput||this._treeToggleTemplateQuery}ngOnChanges(){this.isFirstChange?this.isFirstChange=!1:this.columnChangesService.onInputChange()}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(ge))},e.\u0275dir=s.Gb({type:e,selectors:[["ngx-datatable-column"]],contentQueries:function(e,t,i){if(1&e&&(s.Eb(i,Le,3,s.M),s.Eb(i,Oe,3,s.M),s.Eb(i,We,3,s.M)),2&e){let e;s.lc(e=s.Zb())&&(t._cellTemplateQuery=e.first),s.lc(e=s.Zb())&&(t._headerTemplateQuery=e.first),s.lc(e=s.Zb())&&(t._treeToggleTemplateQuery=e.first)}},inputs:{name:"name",prop:"prop",frozenLeft:"frozenLeft",frozenRight:"frozenRight",flexGrow:"flexGrow",resizeable:"resizeable",comparator:"comparator",pipe:"pipe",sortable:"sortable",draggable:"draggable",canAutoResize:"canAutoResize",minWidth:"minWidth",width:"width",maxWidth:"maxWidth",checkboxable:"checkboxable",headerCheckboxable:"headerCheckboxable",headerClass:"headerClass",cellClass:"cellClass",isTreeColumn:"isTreeColumn",treeLevelIndent:"treeLevelIndent",summaryFunc:"summaryFunc",summaryTemplate:"summaryTemplate",_cellTemplateInput:["cellTemplate","_cellTemplateInput"],_headerTemplateInput:["headerTemplate","_headerTemplateInput"],_treeToggleTemplateInput:["treeToggleTemplate","_treeToggleTemplateInput"]},features:[s.xb]}),e})(),Be=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.M))},e.\u0275dir=s.Gb({type:e,selectors:[["","ngx-datatable-row-detail-template",""]]}),e})(),Ne=(()=>{class e{constructor(){this.rowHeight=0,this.toggle=new s.o}get template(){return this._templateInput||this._templateQuery}toggleExpandRow(e){this.toggle.emit({type:"row",value:e})}expandAllRows(){this.toggle.emit({type:"all",value:!0})}collapseAllRows(){this.toggle.emit({type:"all",value:!1})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.Gb({type:e,selectors:[["ngx-datatable-row-detail"]],contentQueries:function(e,t,i){if(1&e&&s.Eb(i,Be,3,s.M),2&e){let e;s.lc(e=s.Zb())&&(t._templateQuery=e.first)}},inputs:{rowHeight:"rowHeight",_templateInput:["template","_templateInput"]},outputs:{toggle:"toggle"}}),e})(),Ye=(()=>{class e{get template(){return this._templateInput||this._templateQuery}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.Gb({type:e,selectors:[["ngx-datatable-footer"]],contentQueries:function(e,t,i){if(1&e&&s.Eb(i,pe,1,s.M),2&e){let e;s.lc(e=s.Zb())&&(t._templateQuery=e.first)}},inputs:{footerHeight:"footerHeight",totalMessage:"totalMessage",selectedMessage:"selectedMessage",pagerLeftArrowIcon:"pagerLeftArrowIcon",pagerRightArrowIcon:"pagerRightArrowIcon",pagerPreviousIcon:"pagerPreviousIcon",pagerNextIcon:"pagerNextIcon",_templateInput:["template","_templateInput"]}}),e})();function qe(e){const t={left:[],center:[],right:[]};if(e)for(const i of e)i.frozenLeft?t.left.push(i):i.frozenRight?t.right.push(i):t.center.push(i);return t}function $e(e,t){return{left:je(e.left),center:je(e.center),right:je(e.right),total:Math.floor(je(t))}}function je(e,t){let i=0;if(e)for(const o of e)i+=parseFloat(t&&o[t]?o[t]:o.width);return i}function Ge(e){const t=[],i=qe(e);return t.push({type:"left",columns:i.left}),t.push({type:"center",columns:i.center}),t.push({type:"right",columns:i.right}),t}class Xe{constructor(){this.treeArray=[]}clearCache(){this.treeArray=[]}initCache(e){const{rows:t,rowHeight:i,detailRowHeight:o,externalVirtual:n,rowCount:s,rowIndexes:r,rowExpansions:a}=e,l="function"==typeof i,c="function"==typeof o;if(!l&&isNaN(i))throw new Error(`Row Height cache initialization failed. Please ensure that 'rowHeight' is a\n        valid number or function value: (${i}) when 'scrollbarV' is enabled.`);if(!c&&isNaN(o))throw new Error(`Row Height cache initialization failed. Please ensure that 'detailRowHeight' is a\n        valid number or function value: (${o}) when 'scrollbarV' is enabled.`);const h=n?s:t.length;this.treeArray=new Array(h);for(let d=0;d<h;++d)this.treeArray[d]=0;for(let d=0;d<h;++d){const e=t[d];let n=i;l&&(n=i(e));const s=a.has(e);e&&s&&(n+=c?o(e,r.get(e)):o),this.update(d,n)}}getRowIndex(e){return 0===e?0:this.calcRowIndex(e)}update(e,t){if(!this.treeArray.length)throw new Error(`Update at index ${e} with value ${t} failed:\n        Row Height cache not initialized.`);const i=this.treeArray.length;for(e|=0;e<i;)this.treeArray[e]+=t,e|=e+1}query(e){if(!this.treeArray.length)throw new Error(`query at index ${e} failed: Fenwick tree array not initialized.`);let t=0;for(e|=0;e>=0;)t+=this.treeArray[e],e=(e&e+1)-1;return t}queryBetween(e,t){return this.query(t)-this.query(e-1)}calcRowIndex(e){if(!this.treeArray.length)return 0;let t=-1;const i=this.treeArray.length;for(let o=Math.pow(2,i.toString(2).length-1);0!==o;o>>=1){const n=t+o;n<i&&e>=this.treeArray[n]&&(e-=this.treeArray[n],t=n)}return t+1}}const Ue={},Ze="undefined"!=typeof document?document.createElement("div").style:void 0,Ke=function(){const e="undefined"!=typeof window?window.getComputedStyle(document.documentElement,""):void 0,t=void 0!==e?Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/):null,i=null!==t?t[1]:void 0,o=void 0!==i?"WebKit|Moz|MS|O".match(new RegExp("("+i+")","i"))[1]:void 0;return o?{dom:o,lowercase:i,css:`-${i}-`,js:i[0].toUpperCase()+i.substr(1)}:void 0}();function Je(e){const t=Re(e);return Ue[t]||(void 0!==Ke&&void 0!==Ze[Ke.css+e]?Ue[t]=Ke.css+e:void 0!==Ze[e]&&(Ue[t]=e)),Ue[t]}const et="undefined"!=typeof window?Je("transform"):void 0,tt="undefined"!=typeof window?Je("backfaceVisibility"):void 0,it="undefined"!=typeof window?!!Je("transform"):void 0,ot="undefined"!=typeof window?!!Je("perspective"):void 0,nt="undefined"!=typeof window?window.navigator.userAgent:"Chrome",st=/Safari\//.test(nt)&&!/Chrome\//.test(nt);function rt(e,t,i){void 0!==et&&it?!st&&ot?(e[et]=`translate3d(${t}px, ${i}px, 0)`,e[tt]="hidden"):e[Re(et)]=`translate(${t}px, ${i}px)`:(e.top=`${i}px`,e.left=`${t}px`)}let at=(()=>{class e{constructor(e){this.cd=e,this.selected=[],this.scroll=new s.o,this.page=new s.o,this.activate=new s.o,this.select=new s.o,this.detailToggle=new s.o,this.rowContextmenu=new s.o(!1),this.treeAction=new s.o,this.rowHeightsCache=new Xe,this.temp=[],this.offsetY=0,this.indexes={},this.rowIndexes=new WeakMap,this.rowExpansions=[],this.getDetailRowHeight=(e,t)=>{if(!this.rowDetail)return 0;const i=this.rowDetail.rowHeight;return"function"==typeof i?i(e,t):i},this.rowTrackingFn=(e,t)=>{const i=this.getRowIndex(t);return this.trackByProp?t[this.trackByProp]:i}}set pageSize(e){this._pageSize=e,this.recalcLayout()}get pageSize(){return this._pageSize}set rows(e){this._rows=e,this.recalcLayout()}get rows(){return this._rows}set columns(e){this._columns=e;const t=qe(e);this.columnGroupWidths=$e(t,e)}get columns(){return this._columns}set offset(e){this._offset=e,(!this.scrollbarV||this.scrollbarV&&!this.virtualization)&&this.recalcLayout()}get offset(){return this._offset}set rowCount(e){this._rowCount=e,this.recalcLayout()}get rowCount(){return this._rowCount}get bodyWidth(){return this.scrollbarH?this.innerWidth+"px":"100%"}set bodyHeight(e){this._bodyHeight=this.scrollbarV?e+"px":"auto",this.recalcLayout()}get bodyHeight(){return this._bodyHeight}get selectEnabled(){return!!this.selectionType}get scrollHeight(){if(this.scrollbarV&&this.virtualization&&this.rowCount)return this.rowHeightsCache.query(this.rowCount-1)}ngOnInit(){this.rowDetail&&(this.listener=this.rowDetail.toggle.subscribe(({type:e,value:t})=>{"row"===e&&this.toggleRowExpansion(t),"all"===e&&this.toggleAllRows(t),this.updateIndexes(),this.updateRows(),this.cd.markForCheck()})),this.groupHeader&&(this.listener=this.groupHeader.toggle.subscribe(({type:e,value:t})=>{"group"===e&&this.toggleRowExpansion(t),"all"===e&&this.toggleAllRows(t),this.updateIndexes(),this.updateRows(),this.cd.markForCheck()}))}ngOnDestroy(){(this.rowDetail||this.groupHeader)&&this.listener.unsubscribe()}updateOffsetY(e){this.scroller&&(this.scrollbarV&&this.virtualization&&e?e=this.rowHeightsCache.query(this.pageSize*e-1):this.scrollbarV&&!this.virtualization&&(e=0),this.scroller.setOffset(e||0))}onBodyScroll(e){const t=e.scrollYPos,i=e.scrollXPos;this.offsetY===t&&this.offsetX===i||this.scroll.emit({offsetY:t,offsetX:i}),this.offsetY=t,this.offsetX=i,this.updateIndexes(),this.updatePage(e.direction),this.updateRows()}updatePage(e){let t=this.indexes.first/this.pageSize;"up"===e?t=Math.ceil(t):"down"===e&&(t=Math.floor(t)),void 0===e||isNaN(t)||this.page.emit({offset:t})}updateRows(){const{first:e,last:t}=this.indexes;let i=e,o=0;const n=[];if(this.groupedRows){let e=3;for(1===this.groupedRows.length&&(e=this.groupedRows[0].value.length);i<t&&i<this.groupedRows.length;){const e=this.groupedRows[i];this.rowIndexes.set(e,i),e.value&&e.value.forEach((e,t)=>{this.rowIndexes.set(e,`${i}-${t}`)}),n[o]=e,o++,i++}}else for(;i<t&&i<this.rowCount;){const e=this.rows[i];e&&(this.rowIndexes.set(e,i),n[o]=e),o++,i++}this.temp=n}getRowHeight(e){return"function"==typeof this.rowHeight?this.rowHeight(e):this.rowHeight}getGroupHeight(e){let t=0;if(e.value)for(let i=0;i<e.value.length;i++)t+=this.getRowAndDetailHeight(e.value[i]);return t}getRowAndDetailHeight(e){let t=this.getRowHeight(e);return this.getRowExpanded(e)&&(t+=this.getDetailRowHeight(e)),t}getRowsStyles(e){const t={};if(this.groupedRows&&(t.width=this.columnGroupWidths.total),this.scrollbarV&&this.virtualization){let i=0;if(this.groupedRows){const t=e[e.length-1];i=t?this.getRowIndex(t):0}else i=this.getRowIndex(e);rt(t,0,this.rowHeightsCache.query(i-1))}return t}getBottomSummaryRowStyles(){if(!this.scrollbarV||!this.rows||!this.rows.length)return null;const e={position:"absolute"};return rt(e,0,this.rowHeightsCache.query(this.rows.length-1)),e}hideIndicator(){setTimeout(()=>this.loadingIndicator=!1,500)}updateIndexes(){let e=0,t=0;if(this.scrollbarV)if(this.virtualization){const i=parseInt(this.bodyHeight,0);e=this.rowHeightsCache.getRowIndex(this.offsetY),t=this.rowHeightsCache.getRowIndex(i+this.offsetY)+1}else e=0,t=this.rowCount;else this.externalPaging||(e=Math.max(this.offset*this.pageSize,0)),t=Math.min(e+this.pageSize,this.rowCount);this.indexes={first:e,last:t}}refreshRowHeightCache(){if(this.scrollbarV&&(!this.scrollbarV||this.virtualization)&&(this.rowHeightsCache.clearCache(),this.rows&&this.rows.length)){const e=new Set;for(const t of this.rows)this.getRowExpanded(t)&&e.add(t);this.rowHeightsCache.initCache({rows:this.rows,rowHeight:this.rowHeight,detailRowHeight:this.getDetailRowHeight,externalVirtual:this.scrollbarV&&this.externalPaging,rowCount:this.rowCount,rowIndexes:this.rowIndexes,rowExpansions:e})}}getAdjustedViewPortIndex(){const e=this.indexes.first;return this.scrollbarV&&this.virtualization&&this.rowHeightsCache.query(e-1)<=this.offsetY?e-1:e}toggleRowExpansion(e){const t=this.getAdjustedViewPortIndex(),i=this.getRowExpandedIdx(e,this.rowExpansions),o=i>-1;if(this.scrollbarV&&this.virtualization){const t=this.getDetailRowHeight(e)*(o?-1:1),i=this.getRowIndex(e);this.rowHeightsCache.update(i,t)}o?this.rowExpansions.splice(i,1):this.rowExpansions.push(e),this.detailToggle.emit({rows:[e],currentIndex:t})}toggleAllRows(e){this.rowExpansions=[];const t=this.getAdjustedViewPortIndex();if(e)for(const i of this.rows)this.rowExpansions.push(i);this.scrollbarV&&this.recalcLayout(),this.detailToggle.emit({rows:this.rows,currentIndex:t})}recalcLayout(){this.refreshRowHeightCache(),this.updateIndexes(),this.updateRows()}columnTrackingFn(e,t){return t.$$id}stylesByGroup(e){const t=this.columnGroupWidths,i=this.offsetX,o={width:`${t[e]}px`};if("left"===e)rt(o,i,0);else if("right"===e){const e=parseInt(this.innerWidth+"",0);rt(o,-1*(t.total-e-i),0)}return o}getRowExpanded(e){if(0===this.rowExpansions.length&&this.groupExpansionDefault)for(const t of this.groupedRows)this.rowExpansions.push(t);return this.getRowExpandedIdx(e,this.rowExpansions)>-1}getRowExpandedIdx(e,t){if(!t||!t.length)return-1;const i=this.rowIdentity(e);return t.findIndex(e=>this.rowIdentity(e)===i)}getRowIndex(e){return this.rowIndexes.get(e)||0}onTreeAction(e){this.treeAction.emit({row:e})}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.i))},e.\u0275cmp=s.Fb({type:e,selectors:[["datatable-body"]],viewQuery:function(e,t){if(1&e&&s.zc(ve,1),2&e){let e;s.lc(e=s.Zb())&&(t.scroller=e.first)}},hostAttrs:[1,"datatable-body"],hostVars:4,hostBindings:function(e,t){2&e&&s.sc("width",t.bodyWidth)("height",t.bodyHeight)},inputs:{selected:"selected",pageSize:"pageSize",rows:"rows",columns:"columns",offset:"offset",rowCount:"rowCount",bodyHeight:"bodyHeight",offsetX:"offsetX",loadingIndicator:"loadingIndicator",scrollbarV:"scrollbarV",scrollbarH:"scrollbarH",externalPaging:"externalPaging",rowHeight:"rowHeight",emptyMessage:"emptyMessage",selectionType:"selectionType",rowIdentity:"rowIdentity",rowDetail:"rowDetail",groupHeader:"groupHeader",selectCheck:"selectCheck",displayCheck:"displayCheck",trackByProp:"trackByProp",rowClass:"rowClass",groupedRows:"groupedRows",groupExpansionDefault:"groupExpansionDefault",innerWidth:"innerWidth",groupRowsBy:"groupRowsBy",virtualization:"virtualization",summaryRow:"summaryRow",summaryPosition:"summaryPosition",summaryHeight:"summaryHeight"},outputs:{scroll:"scroll",page:"page",activate:"activate",select:"select",detailToggle:"detailToggle",rowContextmenu:"rowContextmenu",treeAction:"treeAction"},decls:5,vars:9,consts:[[4,"ngIf"],[3,"selected","rows","selectCheck","selectEnabled","selectionType","rowIdentity","select","activate"],["selector",""],[3,"scrollbarV","scrollbarH","scrollHeight","scrollWidth","scroll",4,"ngIf"],["class","empty-row",3,"innerHTML",4,"ngIf"],[3,"scrollbarV","scrollbarH","scrollHeight","scrollWidth","scroll"],[3,"rowHeight","offsetX","innerWidth","rows","columns",4,"ngIf"],[3,"groupedRows","innerWidth","ngStyle","rowDetail","groupHeader","offsetX","detailRowHeight","row","expanded","rowIndex","rowContextmenu",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngStyle","rowHeight","offsetX","innerWidth","rows","columns",4,"ngIf"],[3,"rowHeight","offsetX","innerWidth","rows","columns"],[3,"groupedRows","innerWidth","ngStyle","rowDetail","groupHeader","offsetX","detailRowHeight","row","expanded","rowIndex","rowContextmenu"],["tabindex","-1",3,"isSelected","innerWidth","offsetX","columns","rowHeight","row","rowIndex","expanded","rowClass","displayCheck","treeStatus","treeAction","activate",4,"ngIf","ngIfElse"],["groupedRowsTemplate",""],["tabindex","-1",3,"isSelected","innerWidth","offsetX","columns","rowHeight","row","rowIndex","expanded","rowClass","displayCheck","treeStatus","treeAction","activate"],["tabindex","-1",3,"isSelected","innerWidth","offsetX","columns","rowHeight","row","group","rowIndex","expanded","rowClass","activate",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","-1",3,"isSelected","innerWidth","offsetX","columns","rowHeight","row","group","rowIndex","expanded","rowClass","activate"],[3,"ngStyle","rowHeight","offsetX","innerWidth","rows","columns"],[1,"empty-row",3,"innerHTML"]],template:function(e,t){1&e&&(s.tc(0,b,1,0,"datatable-progress",0),s.Qb(1,"datatable-selection",1,2),s.Yb("select",function(e){return t.select.emit(e)})("activate",function(e){return t.activate.emit(e)}),s.tc(3,C,4,8,"datatable-scroller",3),s.tc(4,P,1,1,"div",4),s.Pb()),2&e&&(s.fc("ngIf",t.loadingIndicator),s.zb(1),s.fc("selected",t.selected)("rows",t.rows)("selectCheck",t.selectCheck)("selectEnabled",t.selectEnabled)("selectionType",t.selectionType)("rowIdentity",t.rowIdentity),s.zb(2),s.fc("ngIf",null==t.rows?null:t.rows.length),s.zb(1),s.fc("ngIf",!(null!=t.rows&&t.rows.length||t.loadingIndicator)))},directives:function(){return[o.k,kt,wt,ve,o.j,Tt,xt,o.l,vt]},encapsulation:2,changeDetection:0}),e})(),lt=(()=>{class e{constructor(e){this.cd=e,this.sort=new s.o,this.reorder=new s.o,this.resize=new s.o,this.select=new s.o,this.columnContextmenu=new s.o(!1),this._columnGroupWidths={total:100},this._styleByGroup={left:{},center:{},right:{}},this.destroyed=!1}set innerWidth(e){this._innerWidth=e,setTimeout(()=>{if(this._columns){const e=qe(this._columns);this._columnGroupWidths=$e(e,this._columns),this.setStylesByGroup()}})}get innerWidth(){return this._innerWidth}set headerHeight(e){this._headerHeight="auto"!==e?`${e}px`:e}get headerHeight(){return this._headerHeight}set columns(e){this._columns=e;const t=qe(e);this._columnsByPin=Ge(e),setTimeout(()=>{this._columnGroupWidths=$e(t,e),this.setStylesByGroup()})}get columns(){return this._columns}set offsetX(e){this._offsetX=e,this.setStylesByGroup()}get offsetX(){return this._offsetX}ngOnDestroy(){this.destroyed=!0}onLongPressStart({event:e,model:t}){t.dragging=!0,this.dragEventTarget=e}onLongPressEnd({event:e,model:t}){this.dragEventTarget=e,setTimeout(()=>{const e=this._columns.find(e=>e.$$id===t.$$id);e&&(e.dragging=!1)},5)}get headerWidth(){return this.scrollbarH?this.innerWidth+"px":"100%"}trackByGroups(e,t){return t.type}columnTrackingFn(e,t){return t.$$id}onColumnResized(e,t){e<=t.minWidth?e=t.minWidth:e>=t.maxWidth&&(e=t.maxWidth),this.resize.emit({column:t,prevValue:t.width,newValue:e})}onColumnReordered({prevIndex:e,newIndex:t,model:i}){const o=this.getColumn(t);o.isTarget=!1,o.targetMarkerContext=void 0,this.reorder.emit({column:i,prevValue:e,newValue:t})}onTargetChanged({prevIndex:e,newIndex:t,initialIndex:i}){if(e||0===e){const t=this.getColumn(e);t.isTarget=!1,t.targetMarkerContext=void 0}if(t||0===t){const e=this.getColumn(t);e.isTarget=!0,i!==t&&(e.targetMarkerContext={class:"targetMarker ".concat(i>t?"dragFromRight":"dragFromLeft")})}}getColumn(e){const t=this._columnsByPin[0].columns.length;if(e<t)return this._columnsByPin[0].columns[e];const i=this._columnsByPin[1].columns.length;return e<t+i?this._columnsByPin[1].columns[e-t]:this._columnsByPin[2].columns[e-t-i]}onSort({column:e,prevValue:t,newValue:i}){if(e.dragging)return;const o=this.calcNewSorts(e,t,i);this.sort.emit({sorts:o,column:e,prevValue:t,newValue:i})}calcNewSorts(e,t,i){let o=0;this.sorts||(this.sorts=[]);const n=this.sorts.map((t,i)=>((t=Object.assign({},t)).prop===e.prop&&(o=i),t));return void 0===i?n.splice(o,1):t?n[o].dir=i:(this.sortType===De.single&&n.splice(0,this.sorts.length),n.push({dir:i,prop:e.prop})),n}setStylesByGroup(){this._styleByGroup.left=this.calcStylesByGroup("left"),this._styleByGroup.center=this.calcStylesByGroup("center"),this._styleByGroup.right=this.calcStylesByGroup("right"),this.destroyed||this.cd.detectChanges()}calcStylesByGroup(e){const t=this._columnGroupWidths,i={width:`${t[e]}px`};return"center"===e?rt(i,-1*this.offsetX,0):"right"===e&&rt(i,-1*(t.total-this.innerWidth),0),i}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.i))},e.\u0275cmp=s.Fb({type:e,selectors:[["datatable-header"]],hostAttrs:[1,"datatable-header"],hostVars:4,hostBindings:function(e,t){2&e&&s.sc("height",t.headerHeight)("width",t.headerWidth)},inputs:{innerWidth:"innerWidth",headerHeight:"headerHeight",columns:"columns",offsetX:"offsetX",sorts:"sorts",sortAscendingIcon:"sortAscendingIcon",sortDescendingIcon:"sortDescendingIcon",sortUnsetIcon:"sortUnsetIcon",scrollbarH:"scrollbarH",dealsWithGroup:"dealsWithGroup",targetMarkerTemplate:"targetMarkerTemplate",sortType:"sortType",allRowsSelected:"allRowsSelected",selectionType:"selectionType",reorderable:"reorderable"},outputs:{sort:"sort",reorder:"reorder",resize:"resize",select:"select",columnContextmenu:"columnContextmenu"},decls:2,vars:4,consts:[["orderable","",1,"datatable-header-inner",3,"reorder","targetChanged"],[3,"class","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngStyle"],["resizeable","","long-press","","draggable","",3,"resizeEnabled","pressModel","pressEnabled","dragX","dragY","dragModel","dragEventTarget","headerHeight","isTarget","targetMarkerTemplate","targetMarkerContext","column","sortType","sorts","selectionType","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","resize","longPressStart","longPressEnd","sort","select","columnContextmenu",4,"ngFor","ngForOf","ngForTrackBy"],["resizeable","","long-press","","draggable","",3,"resizeEnabled","pressModel","pressEnabled","dragX","dragY","dragModel","dragEventTarget","headerHeight","isTarget","targetMarkerTemplate","targetMarkerContext","column","sortType","sorts","selectionType","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","resize","longPressStart","longPressEnd","sort","select","columnContextmenu"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Yb("reorder",function(e){return t.onColumnReordered(e)})("targetChanged",function(e){return t.onTargetChanged(e)}),s.tc(1,_,2,5,"div",1),s.Pb()),2&e&&(s.sc("width",t._columnGroupWidths.total,"px"),s.zb(1),s.fc("ngForOf",t._columnsByPin)("ngForTrackBy",t.trackByGroups))},directives:function(){return[we,o.j,o.l,bt,fe,ye,me]},encapsulation:2,changeDetection:0}),e})();function ct(e,t,i){let o,n,s;i=i||{};let r=null,a=0;function l(){a=!1===i.leading?0:+new Date,r=null,s=e.apply(o,n)}return function(){const c=+new Date;a||!1!==i.leading||(a=c);const h=t-(c-a);return o=this,n=arguments,h<=0?(clearTimeout(r),r=null,a=c,s=e.apply(o,n)):r||!1===i.trailing||(r=setTimeout(l,h)),s}}function ht(e,t){for(const i of t){const t=e.indexOf(i);e.splice(t,1)}}function dt(e,t=300){let i=0;for(const o of e)i+=o.width||t;return i}var ut=function(e){return e.asc="asc",e.desc="desc",e}({});function gt(e,t){if(null==e&&(e=0),null==t&&(t=0),e instanceof Date&&t instanceof Date){if(e<t)return-1;if(e>t)return 1}else if(isNaN(parseFloat(e))||!isFinite(e)||isNaN(parseFloat(t))||!isFinite(t)){if(e=String(e),t=String(t),e.toLowerCase()<t.toLowerCase())return-1;if(e.toLowerCase()>t.toLowerCase())return 1}else{if(parseFloat(e)<parseFloat(t))return-1;if(parseFloat(e)>parseFloat(t))return 1}return 0}let pt=(()=>{class e{constructor(e,t,i,o,n,r,a){this.scrollbarHelper=e,this.dimensionsHelper=t,this.cd=i,this.columnChangesService=r,this.configuration=a,this.selected=[],this.scrollbarV=!1,this.scrollbarH=!1,this.rowHeight=30,this.columnMode=Fe.standard,this.headerHeight=30,this.footerHeight=0,this.externalPaging=!1,this.externalSorting=!1,this.loadingIndicator=!1,this.reorderable=!0,this.swapColumns=!0,this.sortType=De.single,this.sorts=[],this.cssClasses={sortAscending:"datatable-icon-up",sortDescending:"datatable-icon-down",sortUnset:"datatable-icon-sort-unset",pagerLeftArrow:"datatable-icon-left",pagerRightArrow:"datatable-icon-right",pagerPrevious:"datatable-icon-prev",pagerNext:"datatable-icon-skip"},this.messages={emptyMessage:"No data to display",totalMessage:"total",selectedMessage:"selected"},this.groupExpansionDefault=!1,this.selectAllRowsOnPage=!1,this.virtualization=!0,this.summaryRow=!1,this.summaryHeight=30,this.summaryPosition="top",this.scroll=new s.o,this.activate=new s.o,this.select=new s.o,this.sort=new s.o,this.page=new s.o,this.reorder=new s.o,this.resize=new s.o,this.tableContextmenu=new s.o(!1),this.treeAction=new s.o,this.rowCount=0,this._offsetX=new l.a(0),this._count=0,this._offset=0,this._subscriptions=[],this.rowIdentity=e=>this._groupRowsBy?e.key:e,this.element=o.nativeElement,this.rowDiffer=n.find({}).create(),this.configuration&&this.configuration.messages&&(this.messages=Object.assign({},this.configuration.messages))}set rows(e){this._rows=e,e&&(this._internalRows=[...e]),this.externalSorting||this.sortInternalRows(),this._internalRows=Me(this._internalRows,Se(this.treeFromRelation),Se(this.treeToRelation)),this.recalculate(),this._rows&&this._groupRowsBy&&(this.groupedRows=this.groupArrayBy(this._rows,this._groupRowsBy)),this.cd.markForCheck()}get rows(){return this._rows}set groupRowsBy(e){e&&(this._groupRowsBy=e,this._rows&&this._groupRowsBy&&(this.groupedRows=this.groupArrayBy(this._rows,this._groupRowsBy)))}get groupRowsBy(){return this._groupRowsBy}set columns(e){e&&(this._internalColumns=[...e],He(this._internalColumns),this.recalculateColumns()),this._columns=e}get columns(){return this._columns}set limit(e){this._limit=e,this.recalculate()}get limit(){return this._limit}set count(e){this._count=e,this.recalculate()}get count(){return this._count}set offset(e){this._offset=e}get offset(){return Math.max(Math.min(this._offset,Math.ceil(this.rowCount/this.pageSize)-1),0)}get isFixedHeader(){const e=this.headerHeight;return"string"!=typeof e||"auto"!==e}get isFixedRow(){return"auto"!==this.rowHeight}get isVertScroll(){return this.scrollbarV}get isVirtualized(){return this.virtualization}get isHorScroll(){return this.scrollbarH}get isSelectable(){return void 0!==this.selectionType}get isCheckboxSelection(){return this.selectionType===Ee.checkbox}get isCellSelection(){return this.selectionType===Ee.cell}get isSingleSelection(){return this.selectionType===Ee.single}get isMultiSelection(){return this.selectionType===Ee.multi}get isMultiClickSelection(){return this.selectionType===Ee.multiClick}set columnTemplates(e){this._columnTemplates=e,this.translateColumns(e)}get columnTemplates(){return this._columnTemplates}get allRowsSelected(){let e=this.rows&&this.selected&&this.selected.length===this.rows.length;if(this.bodyComponent&&this.selectAllRowsOnPage){const t=this.bodyComponent.indexes;e=this.selected.length===t.last-t.first}return this.selected&&this.rows&&0!==this.rows.length&&e}ngOnInit(){this.recalculate()}ngAfterViewInit(){this.externalSorting||this.sortInternalRows(),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(()=>{this.recalculate(),this.externalPaging&&this.scrollbarV&&this.page.emit({count:this.count,pageSize:this.pageSize,limit:this.limit,offset:0})})}ngAfterContentInit(){this.columnTemplates.changes.subscribe(e=>this.translateColumns(e)),this.listenForColumnInputChanges()}translateColumns(e){if(e){const t=e.toArray();t.length&&(this._internalColumns=function(e){const t=[];for(const i of e){const e={},o=Object.getOwnPropertyNames(i);for(const t of o)e[t]=i[t];i.headerTemplate&&(e.headerTemplate=i.headerTemplate),i.cellTemplate&&(e.cellTemplate=i.cellTemplate),i.summaryFunc&&(e.summaryFunc=i.summaryFunc),i.summaryTemplate&&(e.summaryTemplate=i.summaryTemplate),t.push(e)}return t}(t),He(this._internalColumns),this.recalculateColumns(),this.sortInternalRows(),this.cd.markForCheck())}}groupArrayBy(e,t){const i=new Map;return e.forEach(e=>{const o=e[t];i.has(o)?i.get(o).push(e):i.set(o,[e])}),Array.from(i,e=>({key:e[0],value:e[1]}))}ngDoCheck(){this.rowDiffer.diff(this.rows)&&(this.externalSorting?this._internalRows=[...this.rows]:this.sortInternalRows(),this._internalRows=Me(this._internalRows,Se(this.treeFromRelation),Se(this.treeToRelation)),this.recalculatePages(),this.cd.markForCheck())}recalculate(){this.recalculateDims(),this.recalculateColumns(),this.cd.markForCheck()}onWindowResize(){this.recalculate()}recalculateColumns(e=this._internalColumns,t=-1,i=this.scrollbarH){if(!e)return;let o=this._innerWidth;return this.scrollbarV&&(o-=this.scrollbarHelper.width),this.columnMode===Fe.force?function(e,t,i,o,n=300){const s=e.slice(i+1,e.length).filter(e=>!1!==e.canAutoResize);for(const d of s)d.$$oldWidth||(d.$$oldWidth=d.width);let r=0,a=!1,l=dt(e,n),c=t-l;const h=[];do{r=c/s.length,a=l>=t;for(const e of s){if(a&&o)e.width=e.$$oldWidth||e.width||n;else{const t=(e.width||n)+r;e.minWidth&&t<e.minWidth?(e.width=e.minWidth,h.push(e)):e.maxWidth&&t>e.maxWidth?(e.width=e.maxWidth,h.push(e)):e.width=t}e.width=Math.max(0,e.width)}l=dt(e),c=t-l,ht(s,h)}while(c>1&&0!==s.length)}(e,o,t,i):this.columnMode===Fe.flex&&function(e,t){const i=function(e,t){let i=0;for(const o of e)i+=o.width;return i}(e),o=function(e){let t=0;for(const i of e)t+=i.flexGrow||0;return t}(e),n=qe(e);i!==t&&function(e,t,i){for(const s in e)for(const o of e[s])o.canAutoResize?o.width=0:(t-=o.width,i-=o.flexGrow?o.flexGrow:0);const o={};let n=t;do{const t=n/i;n=0;for(const i in e)for(const s of e[i])if(s.canAutoResize&&!o[s.prop]){const e=s.width+s.flexGrow*t;void 0!==s.minWidth&&e<s.minWidth?(n+=e-s.minWidth,s.width=s.minWidth,o[s.prop]=!0):s.width=e}}while(0!==n)}(n,t,o)}(e,o),e}recalculateDims(){const e=this.dimensionsHelper.getDimensions(this.element);if(this._innerWidth=Math.floor(e.width),this.scrollbarV){let t=e.height;this.headerHeight&&(t-=this.headerHeight),this.footerHeight&&(t-=this.footerHeight),this.bodyHeight=t}this.recalculatePages()}recalculatePages(){this.pageSize=this.calcPageSize(),this.rowCount=this.calcRowCount()}onBodyPage({offset:e}){this.externalPaging&&!this.virtualization||(this.offset=e,this.page.emit({count:this.count,pageSize:this.pageSize,limit:this.limit,offset:this.offset}))}onBodyScroll(e){this._offsetX.next(e.offsetX),this.scroll.emit(e),this.cd.detectChanges()}onFooterPage(e){this.offset=e.page-1,this.bodyComponent.updateOffsetY(this.offset),this.page.emit({count:this.count,pageSize:this.pageSize,limit:this.limit,offset:this.offset}),this.selectAllRowsOnPage&&(this.selected=[],this.select.emit({selected:this.selected}))}calcPageSize(e=this.rows){if(this.scrollbarV&&this.virtualization){const e=Math.ceil(this.bodyHeight/this.rowHeight);return Math.max(e,0)}return void 0!==this.limit?this.limit:e?e.length:0}calcRowCount(e=this.rows){return this.externalPaging?this.count:e?this.groupedRows?this.groupedRows.length:null!=this.treeFromRelation&&null!=this.treeToRelation?this._internalRows.length:e.length:0}onColumnContextmenu({event:e,column:t}){this.tableContextmenu.emit({event:e,type:Ae.header,content:t})}onRowContextmenu({event:e,row:t}){this.tableContextmenu.emit({event:e,type:Ae.body,content:t})}onColumnResize({column:e,newValue:t}){if(void 0===e)return;let i;const o=this._internalColumns.map((o,n)=>((o=Object.assign({},o)).$$id===e.$$id&&(i=n,o.width=t,o.$$oldWidth=t),o));this.recalculateColumns(o,i),this._internalColumns=o,this.resize.emit({column:e,newValue:t})}onColumnReorder({column:e,newValue:t,prevValue:i}){const o=this._internalColumns.map(e=>Object.assign({},e));if(this.swapColumns){const n=o[t];o[t]=e,o[i]=n}else if(t>i){const e=o[i];for(let n=i;n<t;n++)o[n]=o[n+1];o[t]=e}else{const e=o[i];for(let n=i;n>t;n--)o[n]=o[n-1];o[t]=e}this._internalColumns=o,this.reorder.emit({column:e,newValue:t,prevValue:i})}onColumnSort(e){this.selectAllRowsOnPage&&(this.selected=[],this.select.emit({selected:this.selected})),this.sorts=e.sorts,!1===this.externalSorting&&this.sortInternalRows(),this._internalRows=Me(this._internalRows,Se(this.treeFromRelation),Se(this.treeToRelation)),this.offset=0,this.bodyComponent.updateOffsetY(this.offset),this.sort.emit(e)}onHeaderSelect(e){if(this.bodyComponent&&this.selectAllRowsOnPage){const e=this.bodyComponent.indexes.first,t=this.bodyComponent.indexes.last,i=this.selected.length===t-e;this.selected=[],i||this.selected.push(...this._internalRows.slice(e,t))}else{const e=this.selected.length===this.rows.length;this.selected=[],e||this.selected.push(...this.rows)}this.select.emit({selected:this.selected})}onBodySelect(e){this.select.emit(e)}onTreeAction(e){const t=e.row,i=this._rows.findIndex(t=>t[this.treeToRelation]===e.row[this.treeToRelation]);this.treeAction.emit({row:t,rowIndex:i})}ngOnDestroy(){this._subscriptions.forEach(e=>e.unsubscribe())}listenForColumnInputChanges(){this._subscriptions.push(this.columnChangesService.columnInputChanges$.subscribe(()=>{this.columnTemplates&&this.columnTemplates.notifyOnChanges()}))}sortInternalRows(){this._internalRows=function(e,t,i){if(!e)return[];if(!i||!i.length||!t)return[...e];const o=new Map;e.forEach((e,t)=>o.set(e,t));const n=[...e],s=t.reduce((e,t)=>(t.comparator&&"function"==typeof t.comparator&&(e[t.prop]=t.comparator),e),{}),r=i.map(e=>{const t=e.prop;return{prop:t,dir:e.dir,valueGetter:ke(t),compareFn:s[t]||gt}});return n.sort(function(e,t){for(const i of r){const{prop:o,valueGetter:n}=i,s=n(e,o),r=n(t,o),a=i.dir!==ut.desc?i.compareFn(s,r,e,t,i.dir):-i.compareFn(s,r,e,t,i.dir);if(0!==a)return a}return o.has(e)&&o.has(t)?o.get(e)<o.get(t)?-1:1:0})}(this._internalRows,this._internalColumns,this.sorts)}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(de,4),s.Lb(ue,4),s.Lb(s.i),s.Lb(s.m),s.Lb(s.v),s.Lb(ge),s.Lb("configuration",8))},e.\u0275cmp=s.Fb({type:e,selectors:[["ngx-datatable"]],contentQueries:function(e,t,i){if(1&e&&(s.Eb(i,Ne,1),s.Eb(i,Ce,1),s.Eb(i,Ye,1),s.Eb(i,Ve,0)),2&e){let e;s.lc(e=s.Zb())&&(t.rowDetail=e.first),s.lc(e=s.Zb())&&(t.groupHeader=e.first),s.lc(e=s.Zb())&&(t.footer=e.first),s.lc(e=s.Zb())&&(t.columnTemplates=e)}},viewQuery:function(e,t){if(1&e&&(s.zc(at,1),s.zc(lt,1)),2&e){let e;s.lc(e=s.Zb())&&(t.bodyComponent=e.first),s.lc(e=s.Zb())&&(t.headerComponent=e.first)}},hostAttrs:[1,"ngx-datatable"],hostVars:22,hostBindings:function(e,t){1&e&&s.Yb("resize",function(){return t.onWindowResize()},!1,s.nc),2&e&&s.Db("fixed-header",t.isFixedHeader)("fixed-row",t.isFixedRow)("scroll-vertical",t.isVertScroll)("virtualized",t.isVirtualized)("scroll-horz",t.isHorScroll)("selectable",t.isSelectable)("checkbox-selection",t.isCheckboxSelection)("cell-selection",t.isCellSelection)("single-selection",t.isSingleSelection)("multi-selection",t.isMultiSelection)("multi-click-selection",t.isMultiClickSelection)},inputs:{selected:"selected",scrollbarV:"scrollbarV",scrollbarH:"scrollbarH",rowHeight:"rowHeight",columnMode:"columnMode",headerHeight:"headerHeight",footerHeight:"footerHeight",externalPaging:"externalPaging",externalSorting:"externalSorting",loadingIndicator:"loadingIndicator",reorderable:"reorderable",swapColumns:"swapColumns",sortType:"sortType",sorts:"sorts",cssClasses:"cssClasses",messages:"messages",groupExpansionDefault:"groupExpansionDefault",selectAllRowsOnPage:"selectAllRowsOnPage",virtualization:"virtualization",summaryRow:"summaryRow",summaryHeight:"summaryHeight",summaryPosition:"summaryPosition",rowIdentity:"rowIdentity",rows:"rows",groupedRows:"groupedRows",groupRowsBy:"groupRowsBy",columns:"columns",limit:"limit",count:"count",offset:"offset",targetMarkerTemplate:"targetMarkerTemplate",selectionType:"selectionType",rowClass:"rowClass",selectCheck:"selectCheck",displayCheck:"displayCheck",trackByProp:"trackByProp",treeFromRelation:"treeFromRelation",treeToRelation:"treeToRelation"},outputs:{scroll:"scroll",activate:"activate",select:"select",sort:"sort",page:"page",reorder:"reorder",resize:"resize",tableContextmenu:"tableContextmenu",treeAction:"treeAction"},decls:5,vars:34,consts:[["visibilityObserver","",3,"visible"],[3,"sorts","sortType","scrollbarH","innerWidth","offsetX","dealsWithGroup","columns","headerHeight","reorderable","targetMarkerTemplate","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","selectionType","sort","resize","reorder","select","columnContextmenu",4,"ngIf"],[3,"groupRowsBy","groupedRows","rows","groupExpansionDefault","scrollbarV","scrollbarH","virtualization","loadingIndicator","externalPaging","rowHeight","rowCount","offset","trackByProp","columns","pageSize","offsetX","rowDetail","groupHeader","selected","innerWidth","bodyHeight","selectionType","emptyMessage","rowIdentity","rowClass","selectCheck","displayCheck","summaryRow","summaryHeight","summaryPosition","page","activate","rowContextmenu","select","scroll","treeAction"],[3,"rowCount","pageSize","offset","footerHeight","footerTemplate","totalMessage","pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","selectedCount","selectedMessage","pagerNextIcon","page",4,"ngIf"],[3,"sorts","sortType","scrollbarH","innerWidth","offsetX","dealsWithGroup","columns","headerHeight","reorderable","targetMarkerTemplate","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","selectionType","sort","resize","reorder","select","columnContextmenu"],[3,"rowCount","pageSize","offset","footerHeight","footerTemplate","totalMessage","pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","selectedCount","selectedMessage","pagerNextIcon","page"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Yb("visible",function(){return t.recalculate()}),s.tc(1,I,2,17,"datatable-header",1),s.Qb(2,"datatable-body",2),s.Yb("page",function(e){return t.onBodyPage(e)})("activate",function(e){return t.activate.emit(e)})("rowContextmenu",function(e){return t.onRowContextmenu(e)})("select",function(e){return t.onBodySelect(e)})("scroll",function(e){return t.onBodyScroll(e)})("treeAction",function(e){return t.onTreeAction(e)}),s.bc(3,"async"),s.Pb(),s.tc(4,T,1,12,"datatable-footer",3),s.Pb()),2&e&&(s.zb(1),s.fc("ngIf",t.headerHeight),s.zb(1),s.fc("groupRowsBy",t.groupRowsBy)("groupedRows",t.groupedRows)("rows",t._internalRows)("groupExpansionDefault",t.groupExpansionDefault)("scrollbarV",t.scrollbarV)("scrollbarH",t.scrollbarH)("virtualization",t.virtualization)("loadingIndicator",t.loadingIndicator)("externalPaging",t.externalPaging)("rowHeight",t.rowHeight)("rowCount",t.rowCount)("offset",t.offset)("trackByProp",t.trackByProp)("columns",t._internalColumns)("pageSize",t.pageSize)("offsetX",s.cc(3,32,t._offsetX))("rowDetail",t.rowDetail)("groupHeader",t.groupHeader)("selected",t.selected)("innerWidth",t._innerWidth)("bodyHeight",t.bodyHeight)("selectionType",t.selectionType)("emptyMessage",t.messages.emptyMessage)("rowIdentity",t.rowIdentity)("rowClass",t.rowClass)("selectCheck",t.selectCheck)("displayCheck",t.displayCheck)("summaryRow",t.summaryRow)("summaryHeight",t.summaryHeight)("summaryPosition",t.summaryPosition),s.zb(2),s.fc("ngIf",t.footerHeight))},directives:function(){return[be,o.k,at,lt,mt]},pipes:function(){return[o.b]},styles:[".ngx-datatable{display:block;justify-content:center;overflow:hidden;position:relative;transform:translateZ(0)}.ngx-datatable [hidden]{display:none!important}.ngx-datatable *,.ngx-datatable :after,.ngx-datatable :before{box-sizing:border-box}.ngx-datatable.scroll-vertical .datatable-body{overflow-y:auto}.ngx-datatable.scroll-vertical.virtualized .datatable-body .datatable-row-wrapper{position:absolute}.ngx-datatable.scroll-horz .datatable-body{-webkit-overflow-scrolling:touch;overflow-x:auto}.ngx-datatable.fixed-header .datatable-header .datatable-header-inner{white-space:nowrap}.ngx-datatable.fixed-header .datatable-header .datatable-header-inner .datatable-header-cell{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ngx-datatable.fixed-row .datatable-scroll,.ngx-datatable.fixed-row .datatable-scroll .datatable-body-row{white-space:nowrap}.ngx-datatable.fixed-row .datatable-scroll .datatable-body-row .datatable-body-cell,.ngx-datatable.fixed-row .datatable-scroll .datatable-body-row .datatable-body-group-cell{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ngx-datatable .datatable-body-row,.ngx-datatable .datatable-header-inner,.ngx-datatable .datatable-row-center{-o-flex-flow:row;display:flex;flex-direction:row;flex-flow:row}.ngx-datatable .datatable-body-cell,.ngx-datatable .datatable-header-cell{display:inline-block;line-height:1.625;overflow-x:hidden;vertical-align:top}.ngx-datatable .datatable-body-cell:focus,.ngx-datatable .datatable-header-cell:focus{outline:none}.ngx-datatable .datatable-row-left,.ngx-datatable .datatable-row-right{z-index:9}.ngx-datatable .datatable-row-center,.ngx-datatable .datatable-row-group,.ngx-datatable .datatable-row-left,.ngx-datatable .datatable-row-right{position:relative}.ngx-datatable .datatable-header{display:block;overflow:hidden}.ngx-datatable .datatable-header .datatable-header-inner{-webkit-align-items:stretch;align-items:stretch}.ngx-datatable .datatable-header .datatable-header-cell{display:inline-block;position:relative}.ngx-datatable .datatable-header .datatable-header-cell.sortable .datatable-header-cell-wrapper{cursor:pointer}.ngx-datatable .datatable-header .datatable-header-cell.longpress .datatable-header-cell-wrapper{cursor:move}.ngx-datatable .datatable-header .datatable-header-cell .sort-btn{cursor:pointer;display:inline-block;line-height:100%;vertical-align:middle}.ngx-datatable .datatable-header .datatable-header-cell .resize-handle,.ngx-datatable .datatable-header .datatable-header-cell .resize-handle--not-resizable{bottom:0;display:inline-block;padding:0 4px;position:absolute;right:0;top:0;visibility:hidden;width:5px}.ngx-datatable .datatable-header .datatable-header-cell .resize-handle{cursor:ew-resize}.ngx-datatable .datatable-header .datatable-header-cell.resizeable:hover .resize-handle,.ngx-datatable .datatable-header .datatable-header-cell:hover .resize-handle--not-resizable{visibility:visible}.ngx-datatable .datatable-header .datatable-header-cell .targetMarker{bottom:0;position:absolute;top:0}.ngx-datatable .datatable-header .datatable-header-cell .targetMarker.dragFromLeft{right:0}.ngx-datatable .datatable-header .datatable-header-cell .targetMarker.dragFromRight{left:0}.ngx-datatable .datatable-header .datatable-header-cell .datatable-header-cell-template-wrap{height:inherit}.ngx-datatable .datatable-body{display:block;position:relative;z-index:10}.ngx-datatable .datatable-body .datatable-scroll{display:inline-block}.ngx-datatable .datatable-body .datatable-row-detail{overflow-y:hidden}.ngx-datatable .datatable-body .datatable-row-wrapper{display:flex;flex-direction:column}.ngx-datatable .datatable-body .datatable-body-row{outline:none}.ngx-datatable .datatable-body .datatable-body-row>div{display:flex}.ngx-datatable .datatable-footer{display:block;overflow:auto;width:100%}.ngx-datatable .datatable-footer .datatable-footer-inner{align-items:center;display:flex;width:100%}.ngx-datatable .datatable-footer .selected-count .page-count{flex:1 1 40%}.ngx-datatable .datatable-footer .selected-count .datatable-pager{flex:1 1 60%}.ngx-datatable .datatable-footer .page-count{flex:1 1 20%}.ngx-datatable .datatable-footer .datatable-pager{flex:1 1 80%;text-align:right}.ngx-datatable .datatable-footer .datatable-pager .pager,.ngx-datatable .datatable-footer .datatable-pager .pager li{display:inline-block;list-style:none;margin:0;padding:0}.ngx-datatable .datatable-footer .datatable-pager .pager li,.ngx-datatable .datatable-footer .datatable-pager .pager li a{outline:none}.ngx-datatable .datatable-footer .datatable-pager .pager li a{cursor:pointer;display:inline-block}.ngx-datatable .datatable-footer .datatable-pager .pager li.disabled a{cursor:not-allowed}"],encapsulation:2,changeDetection:0}),Object(g.b)([function(e,t,i){return{configurable:!0,enumerable:i.enumerable,get:function(){return Object.defineProperty(this,t,{configurable:!0,enumerable:i.enumerable,value:ct(i.value,5,void 0)}),this[t]}}}],e.prototype,"onWindowResize",null),e})(),bt=(()=>{class e{constructor(e){this.cd=e,this.sort=new s.o,this.select=new s.o,this.columnContextmenu=new s.o(!1),this.sortFn=this.onSort.bind(this),this.selectFn=this.select.emit.bind(this.select),this.cellContext={column:this.column,sortDir:this.sortDir,sortFn:this.sortFn,allRowsSelected:this.allRowsSelected,selectFn:this.selectFn}}set allRowsSelected(e){this._allRowsSelected=e,this.cellContext.allRowsSelected=e}get allRowsSelected(){return this._allRowsSelected}set column(e){this._column=e,this.cellContext.column=e,this.cd.markForCheck()}get column(){return this._column}set sorts(e){this._sorts=e,this.sortDir=this.calcSortDir(e),this.cellContext.sortDir=this.sortDir,this.sortClass=this.calcSortClass(this.sortDir),this.cd.markForCheck()}get sorts(){return this._sorts}get columnCssClasses(){let e="datatable-header-cell";if(this.column.sortable&&(e+=" sortable"),this.column.resizeable&&(e+=" resizeable"),this.column.headerClass)if("string"==typeof this.column.headerClass)e+=" "+this.column.headerClass;else if("function"==typeof this.column.headerClass){const t=this.column.headerClass({column:this.column});if("string"==typeof t)e+=t;else if("object"==typeof t){const i=Object.keys(t);for(const o of i)!0===t[o]&&(e+=` ${o}`)}}const t=this.sortDir;return t&&(e+=` sort-active sort-${t}`),e}get name(){return void 0===this.column.headerTemplate?this.column.name:void 0}get minWidth(){return this.column.minWidth}get maxWidth(){return this.column.maxWidth}get width(){return this.column.width}get isCheckboxable(){return this.column.checkboxable&&this.column.headerCheckboxable&&this.selectionType===Ee.checkbox}onContextmenu(e){this.columnContextmenu.emit({event:e,column:this.column})}ngOnInit(){this.sortClass=this.calcSortClass(this.sortDir)}calcSortDir(e){if(e&&this.column){const t=e.find(e=>e.prop===this.column.prop);if(t)return t.dir}}onSort(){if(!this.column.sortable)return;const e=(t=this.sortDir,this.sortType===De.single?t===ut.asc?ut.desc:ut.asc:t?t===ut.asc?ut.desc:void 0:ut.asc);var t;this.sort.emit({column:this.column,prevValue:this.sortDir,newValue:e})}calcSortClass(e){if(this.cellContext.column.sortable)return e===ut.asc?`sort-btn sort-asc ${this.sortAscendingIcon}`:e===ut.desc?`sort-btn sort-desc ${this.sortDescendingIcon}`:`sort-btn ${this.sortUnsetIcon}`}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.i))},e.\u0275cmp=s.Fb({type:e,selectors:[["datatable-header-cell"]],hostAttrs:[1,"datatable-header-cell"],hostVars:11,hostBindings:function(e,t){1&e&&s.Yb("contextmenu",function(e){return t.onContextmenu(e)}),2&e&&(s.Ab("title",t.name),s.Bb(t.columnCssClasses),s.sc("min-width",t.minWidth,"px")("max-width",t.maxWidth,"px")("width",t.width,"px")("height",t.headerHeight,"px"))},inputs:{allRowsSelected:"allRowsSelected",column:"column",sorts:"sorts",sortType:"sortType",sortAscendingIcon:"sortAscendingIcon",sortDescendingIcon:"sortDescendingIcon",sortUnsetIcon:"sortUnsetIcon",isTarget:"isTarget",targetMarkerTemplate:"targetMarkerTemplate",targetMarkerContext:"targetMarkerContext",selectionType:"selectionType",headerHeight:"headerHeight"},outputs:{sort:"sort",select:"select",columnContextmenu:"columnContextmenu"},decls:6,vars:6,consts:[[1,"datatable-header-cell-template-wrap"],[4,"ngIf"],["class","datatable-checkbox",4,"ngIf"],["class","datatable-header-cell-wrapper",4,"ngIf"],[3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"datatable-checkbox"],["type","checkbox",3,"checked","change"],[1,"datatable-header-cell-wrapper"],[1,"datatable-header-cell-label","draggable",3,"innerHTML","click"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.tc(1,M,1,2,void 0,1),s.tc(2,z,2,1,"label",2),s.tc(3,R,2,1,"span",3),s.tc(4,Q,1,2,void 0,1),s.Qb(5,"span",4),s.Yb("click",function(){return t.onSort()}),s.Pb(),s.Pb()),2&e&&(s.zb(1),s.fc("ngIf",t.isTarget),s.zb(1),s.fc("ngIf",t.isCheckboxable),s.zb(1),s.fc("ngIf",!t.column.headerTemplate),s.zb(1),s.fc("ngIf",t.column.headerTemplate),s.zb(1),s.Bb(t.sortClass))},directives:[o.k,o.m],encapsulation:2,changeDetection:0}),e})(),mt=(()=>{class e{constructor(){this.selectedCount=0,this.page=new s.o}get isVisible(){return this.rowCount/this.pageSize>1}get curPage(){return this.offset+1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Fb({type:e,selectors:[["datatable-footer"]],hostAttrs:[1,"datatable-footer"],inputs:{selectedCount:"selectedCount",footerHeight:"footerHeight",rowCount:"rowCount",pageSize:"pageSize",offset:"offset",pagerLeftArrowIcon:"pagerLeftArrowIcon",pagerRightArrowIcon:"pagerRightArrowIcon",pagerPreviousIcon:"pagerPreviousIcon",pagerNextIcon:"pagerNextIcon",totalMessage:"totalMessage",footerTemplate:"footerTemplate",selectedMessage:"selectedMessage"},outputs:{page:"page"},decls:4,vars:8,consts:[[1,"datatable-footer-inner",3,"ngClass"],[4,"ngIf"],["class","page-count",4,"ngIf"],[3,"pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","pagerNextIcon","page","size","count","hidden","change",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"page-count"],[3,"pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","pagerNextIcon","page","size","count","hidden","change"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.tc(1,D,1,8,void 0,1),s.tc(2,O,3,3,"div",2),s.tc(3,L,1,8,"datatable-pager",3),s.Pb()),2&e&&(s.sc("height",t.footerHeight,"px"),s.fc("ngClass",s.hc(6,W,t.selectedMessage)),s.zb(1),s.fc("ngIf",t.footerTemplate),s.zb(1),s.fc("ngIf",!t.footerTemplate),s.zb(1),s.fc("ngIf",!t.footerTemplate))},directives:function(){return[o.i,o.k,o.m,ft]},encapsulation:2,changeDetection:0}),e})(),ft=(()=>{class e{constructor(){this.change=new s.o,this._count=0,this._page=1,this._size=0}set size(e){this._size=e,this.pages=this.calcPages()}get size(){return this._size}set count(e){this._count=e,this.pages=this.calcPages()}get count(){return this._count}set page(e){this._page=e,this.pages=this.calcPages()}get page(){return this._page}get totalPages(){const e=this.size<1?1:Math.ceil(this.count/this.size);return Math.max(e||0,1)}canPrevious(){return this.page>1}canNext(){return this.page<this.totalPages}prevPage(){this.selectPage(this.page-1)}nextPage(){this.selectPage(this.page+1)}selectPage(e){e>0&&e<=this.totalPages&&e!==this.page&&(this.page=e,this.change.emit({page:e}))}calcPages(e){const t=[];let i=1,o=this.totalPages;e=e||this.page,5<this.totalPages&&(i=e-Math.floor(2.5),o=e+Math.floor(2.5),i<1?(i=1,o=Math.min(i+5-1,this.totalPages)):o>this.totalPages&&(i=Math.max(this.totalPages-5+1,1),o=this.totalPages));for(let n=i;n<=o;n++)t.push({number:n,text:n});return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Fb({type:e,selectors:[["datatable-pager"]],hostAttrs:[1,"datatable-pager"],inputs:{size:"size",count:"count",page:"page",pagerLeftArrowIcon:"pagerLeftArrowIcon",pagerRightArrowIcon:"pagerRightArrowIcon",pagerPreviousIcon:"pagerPreviousIcon",pagerNextIcon:"pagerNextIcon"},outputs:{change:"change"},decls:14,vars:21,consts:[[1,"pager"],["role","button","aria-label","go to first page","href","javascript:void(0)",3,"click"],["role","button","aria-label","go to previous page","href","javascript:void(0)",3,"click"],["role","button","class","pages",3,"active",4,"ngFor","ngForOf"],["role","button","aria-label","go to next page","href","javascript:void(0)",3,"click"],["role","button","aria-label","go to last page","href","javascript:void(0)",3,"click"],["role","button",1,"pages"],["href","javascript:void(0)",3,"click"]],template:function(e,t){1&e&&(s.Qb(0,"ul",0),s.Qb(1,"li"),s.Qb(2,"a",1),s.Yb("click",function(){return t.selectPage(1)}),s.Mb(3,"i"),s.Pb(),s.Pb(),s.Qb(4,"li"),s.Qb(5,"a",2),s.Yb("click",function(){return t.prevPage()}),s.Mb(6,"i"),s.Pb(),s.Pb(),s.tc(7,V,3,4,"li",3),s.Qb(8,"li"),s.Qb(9,"a",4),s.Yb("click",function(){return t.nextPage()}),s.Mb(10,"i"),s.Pb(),s.Pb(),s.Qb(11,"li"),s.Qb(12,"a",5),s.Yb("click",function(){return t.selectPage(t.totalPages)}),s.Mb(13,"i"),s.Pb(),s.Pb(),s.Pb()),2&e&&(s.zb(1),s.Db("disabled",!t.canPrevious()),s.zb(2),s.Bb(t.pagerPreviousIcon),s.zb(1),s.Db("disabled",!t.canPrevious()),s.zb(2),s.Bb(t.pagerLeftArrowIcon),s.zb(1),s.fc("ngForOf",t.pages),s.zb(1),s.Db("disabled",!t.canNext()),s.zb(2),s.Bb(t.pagerRightArrowIcon),s.zb(1),s.Db("disabled",!t.canNext()),s.zb(2),s.Bb(t.pagerNextIcon))},directives:[o.j],encapsulation:2,changeDetection:0}),e})(),wt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Fb({type:e,selectors:[["datatable-progress"]],decls:3,vars:0,consts:[["role","progressbar",1,"progress-linear"],[1,"container"],[1,"bar"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Mb(2,"div",2),s.Pb(),s.Pb())},encapsulation:2,changeDetection:0}),e})();var yt=function(e){return e[e.up=38]="up",e[e.down=40]="down",e[e.return=13]="return",e[e.escape=27]="escape",e[e.left=37]="left",e[e.right=39]="right",e}({});let vt=(()=>{class e{constructor(e,t,i,o){this.differs=e,this.scrollbarHelper=t,this.cd=i,this.treeStatus="collapsed",this.activate=new s.o,this.treeAction=new s.o,this._groupStyles={left:{},center:{},right:{}},this._element=o.nativeElement,this._rowDiffer=e.find({}).create()}set columns(e){this._columns=e,this.recalculateColumns(e),this.buildStylesByGroup()}get columns(){return this._columns}set innerWidth(e){if(this._columns){const e=qe(this._columns);this._columnGroupWidths=$e(e,this._columns)}this._innerWidth=e,this.recalculateColumns(),this.buildStylesByGroup()}get innerWidth(){return this._innerWidth}set offsetX(e){this._offsetX=e,this.buildStylesByGroup()}get offsetX(){return this._offsetX}get cssClass(){let e="datatable-body-row";if(this.isSelected&&(e+=" active"),this.rowIndex%2!=0&&(e+=" datatable-row-odd"),this.rowIndex%2==0&&(e+=" datatable-row-even"),this.rowClass){const t=this.rowClass(this.row);if("string"==typeof t)e+=` ${t}`;else if("object"==typeof t){const i=Object.keys(t);for(const o of i)!0===t[o]&&(e+=` ${o}`)}}return e}get columnsTotalWidths(){return this._columnGroupWidths.total}ngDoCheck(){this._rowDiffer.diff(this.row)&&this.cd.markForCheck()}trackByGroups(e,t){return t.type}columnTrackingFn(e,t){return t.$$id}buildStylesByGroup(){this._groupStyles.left=this.calcStylesByGroup("left"),this._groupStyles.center=this.calcStylesByGroup("center"),this._groupStyles.right=this.calcStylesByGroup("right"),this.cd.markForCheck()}calcStylesByGroup(e){const t=this._columnGroupWidths,i=this.offsetX,o={width:`${t[e]}px`};if("left"===e)rt(o,i,0);else if("right"===e){const e=parseInt(this.innerWidth+"",0);rt(o,-1*(t.total-e-i+this.scrollbarHelper.width),0)}return o}onActivate(e,t){e.cellIndex=t,e.rowElement=this._element,this.activate.emit(e)}onKeyDown(e){const t=e.keyCode;(t===yt.return||t===yt.down||t===yt.up||t===yt.left||t===yt.right)&&e.target===this._element&&(e.preventDefault(),e.stopPropagation(),this.activate.emit({type:"keydown",event:e,row:this.row,rowElement:this._element}))}onMouseenter(e){this.activate.emit({type:"mouseenter",event:e,row:this.row,rowElement:this._element})}recalculateColumns(e=this.columns){this._columns=e;const t=qe(this._columns);this._columnsByPin=Ge(this._columns),this._columnGroupWidths=$e(t,this._columns)}onTreeAction(){this.treeAction.emit()}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.v),s.Lb(de,4),s.Lb(s.i),s.Lb(s.m))},e.\u0275cmp=s.Fb({type:e,selectors:[["datatable-body-row"]],hostVars:6,hostBindings:function(e,t){1&e&&s.Yb("keydown",function(e){return t.onKeyDown(e)})("mouseenter",function(e){return t.onMouseenter(e)}),2&e&&(s.Bb(t.cssClass),s.sc("width",t.columnsTotalWidths,"px")("height",t.rowHeight,"px"))},inputs:{treeStatus:"treeStatus",columns:"columns",innerWidth:"innerWidth",offsetX:"offsetX",expanded:"expanded",rowClass:"rowClass",row:"row",group:"group",isSelected:"isSelected",rowIndex:"rowIndex",displayCheck:"displayCheck",rowHeight:"rowHeight"},outputs:{activate:"activate",treeAction:"treeAction"},decls:1,vars:2,consts:[[3,"class","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngStyle"],["tabindex","-1",3,"row","group","expanded","isSelected","rowIndex","column","rowHeight","displayCheck","treeStatus","activate","treeAction",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","-1",3,"row","group","expanded","isSelected","rowIndex","column","rowHeight","displayCheck","treeStatus","activate","treeAction"]],template:function(e,t){1&e&&s.tc(0,N,2,6,"div",0),2&e&&s.fc("ngForOf",t._columnsByPin)("ngForTrackBy",t.trackByGroups)},directives:function(){return[o.j,o.l,Ct]},encapsulation:2,changeDetection:0}),e})(),xt=(()=>{class e{constructor(e,t){this.cd=e,this.differs=t,this.rowContextmenu=new s.o(!1),this._expanded=!1,this.groupContext={group:this.row,expanded:this.expanded,rowIndex:this.rowIndex},this.rowContext={row:this.row,expanded:this.expanded,rowIndex:this.rowIndex},this.rowDiffer=t.find({}).create()}set rowIndex(e){this._rowIndex=e,this.rowContext.rowIndex=e,this.groupContext.rowIndex=e,this.cd.markForCheck()}get rowIndex(){return this._rowIndex}set expanded(e){this._expanded=e,this.groupContext.expanded=e,this.rowContext.expanded=e,this.cd.markForCheck()}get expanded(){return this._expanded}ngDoCheck(){this.rowDiffer.diff(this.row)&&(this.rowContext.row=this.row,this.groupContext.group=this.row,this.cd.markForCheck())}onContextmenu(e){this.rowContextmenu.emit({event:e,row:this.row})}getGroupHeaderStyle(){const e={};return e.transform="translate3d("+this.offsetX+"px, 0px, 0px)",e["backface-visibility"]="hidden",e.width=this.innerWidth,e}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.i),s.Lb(s.v))},e.\u0275cmp=s.Fb({type:e,selectors:[["datatable-row-wrapper"]],hostAttrs:[1,"datatable-row-wrapper"],hostBindings:function(e,t){1&e&&s.Yb("contextmenu",function(e){return t.onContextmenu(e)})},inputs:{rowIndex:"rowIndex",expanded:"expanded",innerWidth:"innerWidth",rowDetail:"rowDetail",groupHeader:"groupHeader",offsetX:"offsetX",detailRowHeight:"detailRowHeight",row:"row",groupedRows:"groupedRows"},outputs:{rowContextmenu:"rowContextmenu"},ngContentSelectors:p,decls:3,vars:3,consts:[["class","datatable-group-header",3,"ngStyle",4,"ngIf"],[4,"ngIf"],["class","datatable-row-detail",3,"height",4,"ngIf"],[1,"datatable-group-header",3,"ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"datatable-row-detail"]],template:function(e,t){1&e&&(s.ec(),s.tc(0,$,2,2,"div",0),s.tc(1,j,1,0,"ng-content",1),s.tc(2,U,2,3,"div",2)),2&e&&(s.fc("ngIf",t.groupHeader&&t.groupHeader.template),s.zb(1),s.fc("ngIf",t.groupHeader&&t.groupHeader.template&&t.expanded||!t.groupHeader||!t.groupHeader.template),s.zb(1),s.fc("ngIf",t.rowDetail&&t.rowDetail.template&&t.expanded))},directives:[o.k,o.l,o.m],encapsulation:2,changeDetection:0}),e})(),Ct=(()=>{class e{constructor(e,t){this.cd=t,this.activate=new s.o,this.treeAction=new s.o,this.isFocused=!1,this.onCheckboxChangeFn=this.onCheckboxChange.bind(this),this.activateFn=this.activate.emit.bind(this.activate),this.cellContext={onCheckboxChangeFn:this.onCheckboxChangeFn,activateFn:this.activateFn,row:this.row,group:this.group,value:this.value,column:this.column,rowHeight:this.rowHeight,isSelected:this.isSelected,rowIndex:this.rowIndex,treeStatus:this.treeStatus,onTreeAction:this.onTreeAction.bind(this)},this._element=e.nativeElement}set group(e){this._group=e,this.cellContext.group=e,this.checkValueUpdates(),this.cd.markForCheck()}get group(){return this._group}set rowHeight(e){this._rowHeight=e,this.cellContext.rowHeight=e,this.checkValueUpdates(),this.cd.markForCheck()}get rowHeight(){return this._rowHeight}set isSelected(e){this._isSelected=e,this.cellContext.isSelected=e,this.cd.markForCheck()}get isSelected(){return this._isSelected}set expanded(e){this._expanded=e,this.cellContext.expanded=e,this.cd.markForCheck()}get expanded(){return this._expanded}set rowIndex(e){this._rowIndex=e,this.cellContext.rowIndex=e,this.checkValueUpdates(),this.cd.markForCheck()}get rowIndex(){return this._rowIndex}set column(e){this._column=e,this.cellContext.column=e,this.checkValueUpdates(),this.cd.markForCheck()}get column(){return this._column}set row(e){this._row=e,this.cellContext.row=e,this.checkValueUpdates(),this.cd.markForCheck()}get row(){return this._row}set sorts(e){this._sorts=e,this.calcSortDir=this.calcSortDir(e)}get sorts(){return this._sorts}set treeStatus(e){this._treeStatus="collapsed"!==e&&"expanded"!==e&&"loading"!==e&&"disabled"!==e?"collapsed":e,this.cellContext.treeStatus=this._treeStatus,this.checkValueUpdates(),this.cd.markForCheck()}get treeStatus(){return this._treeStatus}get columnCssClasses(){let e="datatable-body-cell";if(this.column.cellClass)if("string"==typeof this.column.cellClass)e+=" "+this.column.cellClass;else if("function"==typeof this.column.cellClass){const t=this.column.cellClass({row:this.row,group:this.group,column:this.column,value:this.value,rowHeight:this.rowHeight});if("string"==typeof t)e+=" "+t;else if("object"==typeof t){const i=Object.keys(t);for(const o of i)!0===t[o]&&(e+=` ${o}`)}}return this.sortDir||(e+=" sort-active"),this.isFocused&&(e+=" active"),this.sortDir===ut.asc&&(e+=" sort-asc"),this.sortDir===ut.desc&&(e+=" sort-desc"),e}get width(){return this.column.width}get minWidth(){return this.column.minWidth}get maxWidth(){return this.column.maxWidth}get height(){const e=this.rowHeight;return isNaN(e)?e:e+"px"}ngDoCheck(){this.checkValueUpdates()}ngOnDestroy(){this.cellTemplate&&this.cellTemplate.clear()}checkValueUpdates(){let e="";if(this.row&&this.column){const t=this.column.$$valueGetter(this.row,this.column.prop),i=this.column.pipe;i?e=i.transform(t):void 0!==e&&(e=t)}else e="";this.value!==e&&(this.value=e,this.cellContext.value=e,this.sanitizedValue=null!=e?this.stripHtml(e):e,this.cd.markForCheck())}onFocus(){this.isFocused=!0}onBlur(){this.isFocused=!1}onClick(e){this.activate.emit({type:"click",event:e,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element})}onDblClick(e){this.activate.emit({type:"dblclick",event:e,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element})}onKeyDown(e){const t=e.keyCode;(t===yt.return||t===yt.down||t===yt.up||t===yt.left||t===yt.right)&&e.target===this._element&&(e.preventDefault(),e.stopPropagation(),this.activate.emit({type:"keydown",event:e,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element}))}onCheckboxChange(e){this.activate.emit({type:"checkbox",event:e,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element,treeStatus:"collapsed"})}calcSortDir(e){if(!e)return;const t=e.find(e=>e.prop===this.column.prop);return t?t.dir:void 0}stripHtml(e){return e.replace?e.replace(/<\/?[^>]+(>|$)/g,""):e}onTreeAction(){this.treeAction.emit(this.row)}calcLeftMargin(e,t){return e.isTreeColumn?t.level*(null!=e.treeLevelIndent?e.treeLevelIndent:50):0}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(s.m),s.Lb(s.i))},e.\u0275cmp=s.Fb({type:e,selectors:[["datatable-body-cell"]],viewQuery:function(e,t){if(1&e&&s.zc(Z,3,s.Q),2&e){let e;s.lc(e=s.Zb())&&(t.cellTemplate=e.first)}},hostVars:10,hostBindings:function(e,t){1&e&&s.Yb("focus",function(){return t.onFocus()})("blur",function(){return t.onBlur()})("click",function(e){return t.onClick(e)})("dblclick",function(e){return t.onDblClick(e)})("keydown",function(e){return t.onKeyDown(e)}),2&e&&(s.Bb(t.columnCssClasses),s.sc("width",t.width,"px")("min-width",t.minWidth,"px")("max-width",t.maxWidth,"px")("height",t.height))},inputs:{group:"group",rowHeight:"rowHeight",isSelected:"isSelected",expanded:"expanded",rowIndex:"rowIndex",column:"column",row:"row",sorts:"sorts",treeStatus:"treeStatus",displayCheck:"displayCheck"},outputs:{activate:"activate",treeAction:"treeAction"},decls:5,vars:6,consts:[[1,"datatable-body-cell-label"],["class","datatable-checkbox",4,"ngIf"],[4,"ngIf"],[3,"title","innerHTML",4,"ngIf"],[1,"datatable-checkbox"],["type","checkbox",3,"checked","click"],["class","datatable-tree-button",3,"disabled","click",4,"ngIf"],[1,"datatable-tree-button",3,"disabled","click"],["class","icon datatable-icon-collapse",4,"ngIf"],["class","icon datatable-icon-up",4,"ngIf"],["class","icon datatable-icon-down",4,"ngIf"],[1,"icon","datatable-icon-collapse"],[1,"icon","datatable-icon-up"],[1,"icon","datatable-icon-down"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"title","innerHTML"],["cellTemplate",""]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.tc(1,K,2,1,"label",1),s.tc(2,re,3,2,"ng-container",2),s.tc(3,ae,1,2,"span",3),s.tc(4,ce,2,2,void 0,2),s.Pb()),2&e&&(s.sc("margin-left",t.calcLeftMargin(t.column,t.row),"px"),s.zb(1),s.fc("ngIf",t.column.checkboxable&&(!t.displayCheck||t.displayCheck(t.row,t.column,t.value))),s.zb(1),s.fc("ngIf",t.column.isTreeColumn),s.zb(1),s.fc("ngIf",!t.column.cellTemplate),s.zb(1),s.fc("ngIf",t.column.cellTemplate))},directives:[o.k,o.m],encapsulation:2,changeDetection:0}),e})();function Pt(e,t,i){const o=i(t,e);return o>-1?e.splice(o,1):e.push(t),e}let kt=(()=>{class e{constructor(){this.activate=new s.o,this.select=new s.o}selectRow(e,t,i){if(!this.selectEnabled)return;const o=this.selectionType===Ee.checkbox,n=this.selectionType===Ee.multiClick;let s=[];s=this.selectionType===Ee.multi||o||n?e.shiftKey?function(e,t,i,o,n){const s=i<o;for(let r=0;r<t.length;r++){const n=t[r],a=r>=o&&r<=i,l=r<=o&&r>=i;let c={start:0,end:0};c=s?{start:i,end:o}:{start:o,end:i+1},(s&&l||!s&&a)&&r>=c.start&&r<=c.end&&e.push(n)}return e}([],this.rows,t,this.prevIndex,this.getRowSelectedIdx.bind(this)):Pt(e.ctrlKey||e.metaKey||n||o?[...this.selected]:[],i,this.getRowSelectedIdx.bind(this)):Pt([],i,this.getRowSelectedIdx.bind(this)),"function"==typeof this.selectCheck&&(s=s.filter(this.selectCheck.bind(this))),this.selected.splice(0,this.selected.length),this.selected.push(...s),this.prevIndex=t,this.select.emit({selected:s})}onActivate(e,t){const{type:i,event:o,row:n}=e,s=this.selectionType===Ee.checkbox;!s&&("click"===i||"dblclick"===i)||s&&"checkbox"===i?this.selectRow(o,t,n):"keydown"===i&&(o.keyCode===yt.return?this.selectRow(o,t,n):this.onKeyboardFocus(e)),this.activate.emit(e)}onKeyboardFocus(e){const{keyCode:t}=e.event;if(t===yt.up||t===yt.down||t===yt.right||t===yt.left){const i=this.selectionType===Ee.cell;e.cellElement&&i?i&&this.focusCell(e.cellElement,e.rowElement,t,e.cellIndex):this.focusRow(e.rowElement,t)}}focusRow(e,t){const i=this.getPrevNextRow(e,t);i&&i.focus()}getPrevNextRow(e,t){const i=e.parentElement;if(i){let e;if(t===yt.up?e=i.previousElementSibling:t===yt.down&&(e=i.nextElementSibling),e&&e.children.length)return e.children[0]}}focusCell(e,t,i,o){let n;if(i===yt.left)n=e.previousElementSibling;else if(i===yt.right)n=e.nextElementSibling;else if(i===yt.up||i===yt.down){const e=this.getPrevNextRow(t,i);if(e){const t=e.getElementsByClassName("datatable-body-cell");t.length&&(n=t[o])}}n&&n.focus()}getRowSelected(e){return this.getRowSelectedIdx(e,this.selected)>-1}getRowSelectedIdx(e,t){if(!t||!t.length)return-1;const i=this.rowIdentity(e);return t.findIndex(e=>this.rowIdentity(e)===i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Fb({type:e,selectors:[["datatable-selection"]],inputs:{rows:"rows",selected:"selected",selectEnabled:"selectEnabled",selectionType:"selectionType",rowIdentity:"rowIdentity",selectCheck:"selectCheck"},outputs:{activate:"activate",select:"select"},ngContentSelectors:p,decls:1,vars:0,template:function(e,t){1&e&&(s.ec(),s.dc(0))},encapsulation:2,changeDetection:0}),e})();function _t(e){const t=e.filter(e=>!!e);return t.length?t.some(e=>"number"!=typeof e)?null:t.reduce((e,t)=>e+t):null}function It(e){return null}let Tt=(()=>{class e{constructor(){this.summaryRow={}}ngOnChanges(){this.columns&&this.rows&&(this.updateInternalColumns(),this.updateValues())}updateInternalColumns(){this._internalColumns=this.columns.map(e=>Object.assign(Object.assign({},e),{cellTemplate:e.summaryTemplate}))}updateValues(){this.summaryRow={},this.columns.filter(e=>!e.summaryTemplate).forEach(e=>{const t=this.rows.map(t=>t[e.prop]),i=this.getSummaryFunction(e);this.summaryRow[e.prop]=e.pipe?e.pipe.transform(i(t)):i(t)})}getSummaryFunction(e){return void 0===e.summaryFunc?_t:null===e.summaryFunc?It:e.summaryFunc}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Fb({type:e,selectors:[["datatable-summary-row"]],hostAttrs:[1,"datatable-summary-row"],inputs:{rows:"rows",columns:"columns",rowHeight:"rowHeight",offsetX:"offsetX",innerWidth:"innerWidth"},features:[s.xb],decls:1,vars:1,consts:[["tabindex","-1",3,"innerWidth","offsetX","columns","rowHeight","row","rowIndex",4,"ngIf"],["tabindex","-1",3,"innerWidth","offsetX","columns","rowHeight","row","rowIndex"]],template:function(e,t){1&e&&s.tc(0,he,1,6,"datatable-body-row",0),2&e&&s.fc("ngIf",t.summaryRow&&t._internalColumns)},directives:[o.k,vt],encapsulation:2}),e})(),St=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:"configuration",useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Jb({type:e}),e.\u0275inj=s.Ib({providers:[de,ue,ge],imports:[[o.c]]}),e})();"undefined"==typeof document||document.elementsFromPoint||(document.elementsFromPoint=function(e,t){const i=[],o=[];let n,s,r;for(;(n=document.elementFromPoint(e,t))&&-1===i.indexOf(n)&&null!=n;)i.push(n),o.push({value:n.style.getPropertyValue("pointer-events"),priority:n.style.getPropertyPriority("pointer-events")}),n.style.setProperty("pointer-events","none","important");for(s=o.length;r=o[--s];)i[s].style.setProperty("pointer-events",r.value?r.value:"",r.priority);return i});var Mt=i("TEn/"),zt=i("tk/3"),Rt=i("tyNb"),Ht=i("AytR"),Qt=i("gcOT"),Ft=i("XNvx");const{Camera:Et,Filesystem:Dt,Storage:At}=Qt.e;let Ot=(()=>{class e{constructor(e,t,i){this.http=e,this.auth=i,this.headers=new zt.c({"Content-type":"application/json","Access-Control-Allow-Origin":"*","X-Requested-With":"XMLHttpRequest",Authorization:`Bearer ${this.auth.getToken()}`}),this.items=[],this.InicioPhotos=[],this.FinPhotos=[],this.Photo_storage="photos",this.api=Ht.a.backend.precisionWall,this.convertBlobToBase64=e=>new Promise((t,i)=>{const o=new FileReader;o.onerror=i,o.onload=()=>{t(o.result)},o.readAsDataURL(e)}),this.platform=t}addNewGalery(e){return Object(g.a)(this,void 0,void 0,function*(){const t=yield Et.getPhoto({resultType:Qt.a.Uri,source:Qt.b.Camera,quality:100});if("inicio"===e){const e=yield this.savePicture(t);this.InicioPhotos.unshift(e),At.set({key:this.Photo_storage,value:JSON.stringify(this.InicioPhotos.map(e=>{const t=Object.assign({},e);return delete t.base64,t}))})}else{const e=yield this.savePicture(t);this.FinPhotos.unshift(e),At.set({key:this.Photo_storage,value:JSON.stringify(this.FinPhotos.map(e=>{const t=Object.assign({},e);return delete t.base64,t}))})}})}loadSaved(e){return Object(g.a)(this,void 0,void 0,function*(){const t=yield At.get({key:this.Photo_storage});if("inicio"===e){if(this.InicioPhotos=JSON.parse(t.value)||[],!this.platform.is("hybrid"))for(let e of this.InicioPhotos){const t=yield Dt.readFile({path:e.filepath,directory:Qt.d.Data});e.webviewPath=`data:image/jpeg;base64,${t.data}`}}else if(this.FinPhotos=JSON.parse(t.value)||[],!this.platform.is("hybrid"))for(let e of this.FinPhotos){const t=yield Dt.readFile({path:e.filepath,directory:Qt.d.Data});e.webviewPath=`data:image/jpeg;base64,${t.data}`}})}getPhotos(e){return"inicio"===e?this.InicioPhotos:this.FinPhotos}savePicture(e){return Object(g.a)(this,void 0,void 0,function*(){const t=yield this.readAsBase64(e),i=(new Date).getTime()+".jpeg",o=yield Dt.writeFile({path:i,data:t,directory:Qt.d.Data});return this.platform.is("hybrid")?{filepath:o.uri,webviewPath:Qt.c.convertFileSrc(o.uri)}:{filepath:i,webviewPath:e.webPath}})}readAsBase64(e){return Object(g.a)(this,void 0,void 0,function*(){if(this.platform.is("hybrid"))return(yield Dt.readFile({path:e.path})).data;{const t=yield fetch(e.webPath),i=yield t.blob();return yield this.convertBlobToBase64(i)}})}deleteAllImagen(){return Object(g.a)(this,void 0,void 0,function*(){yield At.remove({key:this.Photo_storage})})}getPhotosFile(e,t){return Object(g.a)(this,void 0,void 0,function*(){return{filepath:t,webviewPath:e.webPath}})}getSelectSearch(e){return this.http.get(`${this.api}ticket/${e}`,{headers:this.headers})}getSelectSearchMaterial(e,t){return this.http.get(`${this.api}ticket/${e}/${t}`,{headers:this.headers})}getDataTable(){return this.http.get("https://api.anniix.com/api-anime/anniix/ejemplo",{headers:this.headers})}getDataTableListActivitis(e){return this.http.post(`${this.api}ticket/list-activitis`,{from_date:e},{headers:this.headers})}getDataTableListTicket(e){return this.http.post(`${this.api}ticket/list-ticket/${e}`,{},{headers:this.headers})}postSaveTicket(e,t){return this.http.post(`${this.api}ticket/${t}/store`,e,{headers:this.headers})}}return e.\u0275fac=function(t){return new(t||e)(s.Ub(zt.a),s.Ub(Mt.P),s.Ub(Ft.a))},e.\u0275prov=s.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Lt(e,t){if(1&e){const e=s.Rb();s.Qb(0,"ion-col",3),s.Qb(1,"ion-card",4),s.Mb(2,"ion-img",5),s.Qb(3,"ion-item"),s.Qb(4,"ion-button",6),s.Yb("click",function(){s.oc(e);const i=t.index;return s.ac().delete(i)}),s.Mb(5,"ion-icon",7),s.Pb(),s.Pb(),s.Pb(),s.Pb()}if(2&e){const e=t.$implicit;s.zb(2),s.fc("src",e.webviewPath)}}let Wt=(()=>{class e{constructor(e){this.ticketService=e,this.photos=[],this.onChange=e=>{},this.onTouch=()=>{},this.images=new n.a([])}ngOnInit(){return Object(g.a)(this,void 0,void 0,function*(){this.loadImages()})}loadImages(){this.images.clear(),this.ticketService.loadSaved(this.tipo).then(()=>{this.ticketService.getPhotos(this.tipo).map(e=>{const t=new n.c(e);this.images.push(t)})})}newPhoto(){return Object(g.a)(this,void 0,void 0,function*(){console.log(this.tipo),yield this.ticketService.addNewGalery(this.tipo),this.loadImages(),this.onTouch(),this.images.valueChanges.subscribe(e=>{this.onChange(e)})})}delete(e){this.images.removeAt(e),this.onTouch(),this.images.valueChanges.subscribe(e=>{this.onChange(e)})}writeValue(e){this.images=new n.a(e.map(e=>{const t=new n.f({base64Data:new n.c(e.base64Data)});this.images.push(t),this.onTouch(),this.images.valueChanges.subscribe(e=>{this.onChange(e)})}))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(){}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(Ot))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-images"]],inputs:{tipo:"tipo"},features:[s.yb([{provide:n.j,multi:!0,useExisting:Object(s.U)(()=>e)}])],decls:6,vars:1,consts:[["size","6",4,"ngFor","ngForOf"],["size","12"],["type","button","expand","full",3,"click"],["size","6"],[1,"block"],[3,"src"],["fill","outline","slot","end",3,"click"],["name","trash",1,"deleteIcon"]],template:function(e,t){1&e&&(s.Qb(0,"ion-grid"),s.Qb(1,"ion-row"),s.tc(2,Lt,6,1,"ion-col",0),s.Qb(3,"ion-col",1),s.Qb(4,"ion-button",2),s.Yb("click",function(){return t.newPhoto()}),s.vc(5,"Open camera"),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&e&&(s.zb(2),s.fc("ngForOf",t.images.value))},directives:[Mt.l,Mt.z,o.j,Mt.i,Mt.c,Mt.e,Mt.o,Mt.q,Mt.n],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#000}"]}),e})();function Vt(e,t){if(1&e){const e=s.Rb();s.Qb(0,"ion-item"),s.Qb(1,"ion-label",3),s.Yb("click",function(){s.oc(e);const i=t.$implicit;return s.ac().close(i.id)}),s.vc(2),s.Mb(3,"br"),s.Qb(4,"p"),s.vc(5),s.Pb(),s.Pb(),s.Pb()}if(2&e){const e=t.$implicit;s.zb(2),s.xc("",e.text," "),s.zb(3),s.xc(" ",e.descripcion_traduccion,"")}}let Bt=(()=>{class e{constructor(e,t,i){this.ticketService=e,this.modalController=t,this.navParams=i,this.searchTerm="",this.tipo=i.get("tipo")}ngOnInit(){return Object(g.a)(this,void 0,void 0,function*(){switch(this.tipo){case"personal":yield this.selectSearch(this.tipo);break;case"what":case"where":case"why":case"classWorker":this.selectSearch(this.tipo);break;case"materiales":const e=this.navParams.get("id");this.selectSearchMateriales(this.tipo,e)}})}selectSearch(e){return Object(g.a)(this,void 0,void 0,function*(){this.ticketService.getSelectSearch(e).subscribe(e=>Object(g.a)(this,void 0,void 0,function*(){this.data=e,this.temp=e,yield this.setFilteredItems()}))})}selectSearchMateriales(e,t){return Object(g.a)(this,void 0,void 0,function*(){this.ticketService.getSelectSearchMaterial(e,t).subscribe(e=>{this.data=e,this.temp=e,this.setFilteredItems()})})}setFilteredItems(){return Object(g.a)(this,void 0,void 0,function*(){this.temp=this.data,this.temp=this.filterItems(this.searchTerm)})}filterItems(e){return this.temp.filter(t=>t.text.toLowerCase().indexOf(e.toLowerCase())>-1)}close(e){let t=this.temp.filter(t=>t.id==e);this.modalController.dismiss(t[0])}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(Ot),s.Lb(Mt.M),s.Lb(Mt.N))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-select-search"]],decls:4,vars:2,consts:[["padding",""],[3,"ngModel","ngModelChange","ionChange"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(e,t){1&e&&(s.Qb(0,"ion-content",0),s.Qb(1,"ion-searchbar",1),s.Yb("ngModelChange",function(e){return t.searchTerm=e})("ionChange",function(){return t.setFilteredItems()}),s.Pb(),s.Qb(2,"ion-list"),s.tc(3,Vt,6,2,"ion-item",2),s.Pb(),s.Pb()),2&e&&(s.zb(1),s.fc("ngModel",t.searchTerm),s.zb(2),s.fc("ngForOf",t.temp))},directives:[Mt.j,Mt.A,Mt.S,n.l,n.n,Mt.s,o.j,Mt.q,Mt.r],styles:[""]}),e})();const Nt=function(e){return["/ticket/list-tickets",e]},Yt=function(e,t,i){return{proyect:e,nameForeman:t,id_proyecto:i}};function qt(e,t){if(1&e&&(s.Qb(0,"div",19),s.Qb(1,"ion-row"),s.Qb(2,"ion-col"),s.Qb(3,"small"),s.vc(4,"list tickets"),s.Pb(),s.Mb(5,"br"),s.Qb(6,"ion-button",20),s.vc(7,"View tickets \xa0 "),s.Mb(8,"ion-icon",21),s.Pb(),s.Pb(),s.Qb(9,"ion-col"),s.Qb(10,"small"),s.vc(11,"Foreman"),s.Pb(),s.Mb(12,"br"),s.vc(13),s.Pb(),s.Qb(14,"ion-col"),s.Qb(15,"small"),s.vc(16,"Lead"),s.Pb(),s.Mb(17,"br"),s.vc(18),s.Pb(),s.Pb(),s.Pb()),2&e){const e=t.row;s.zb(6),s.fc("routerLink",s.hc(4,Nt,e.Actividad_ID))("queryParams",s.ic(6,Yt,e.Nombre,e.Foreman,e.Pro_ID)),s.zb(7),s.xc(" ",e.Foreman," "),s.zb(5),s.xc(" ",e.Lead," ")}}function $t(e,t){if(1&e){const e=s.Rb();s.Qb(0,"a",22),s.Yb("click",function(){s.oc(e);const i=t.row;return s.ac().toggleExpandRow(i)}),s.Pb()}if(2&e){const e=t.expanded;s.Db("datatable-icon-right",!e)("datatable-icon-down",e)}}function jt(e,t){1&e&&s.Mb(0,"i",23),2&e&&s.fc("innerHTML",t.row.Fecha,s.pc)}function Gt(e,t){1&e&&s.Mb(0,"i",23),2&e&&s.fc("innerHTML",t.row.empresa,s.pc)}function Xt(e,t){1&e&&s.Mb(0,"i",23),2&e&&s.fc("innerHTML",t.row.Nombre,s.pc)}function Ut(e,t){1&e&&s.Mb(0,"i",23),2&e&&s.fc("innerHTML",t.row.Calle,s.pc)}function Zt(e,t){1&e&&s.Mb(0,"i",23),2&e&&s.fc("innerHTML",t.row.Coordinador_Obra,s.pc)}let Kt=(()=>{class e{constructor(e,t,i){this.ticketService=e,this.loadingCtrl=t,this.alertCtrl=i,this.columns=[{prop:"Fecha",name:"Date"},{prop:"empresa",name:"Company"},{prop:"Nombre",name:"Name"},{prop:"Calle",name:"Dirrection"},{prop:"Coordinador_Obra",name:"Coordinador_Obra"},{prop:"Foreman",name:"Foreman"},{prop:"Lead",name:"Lead"},{prop:"Pwtsuper",name:"Pwt super"},{prop:"empleados",name:"Pwtsuper"}],this.expanded={},this.alerta=!1,this.scrollBarHorizontal=window.innerWidth<1200,this.ColumnMode=Fe,window.onresize=()=>{this.scrollBarHorizontal=window.innerWidth<1200};const o=this.obtenerFechaActual(),s=this.formatoFecha(o,"yy-mm-dd");this.fecha=new n.c(s),this.fecha.valueChanges.subscribe(e=>Object(g.a)(this,void 0,void 0,function*(){}))}ngOnInit(){return Object(g.a)(this,void 0,void 0,function*(){yield this.datatable()})}buscar(){return Object(g.a)(this,void 0,void 0,function*(){yield this.datatable()})}onPage(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{console.log("paged!",e)},1e3)}toggleExpandRow(e){console.log("Toggled Expand Row!",e),this.table.rowDetail.toggleExpandRow(e)}onDetailToggle(e){console.log("Detail Toggled",e)}obtenerFechaActual(){const e=Date.now();return new Date(e)}formatoFecha(e,t){const i={dd:e.getDate(),mm:e.getMonth()+1,yy:e.getFullYear().toString().slice(),yyyy:e.getFullYear()};return t.replace(/dd|mm|yy|yyy/gi,e=>i[e])}datatable(){return Object(g.a)(this,void 0,void 0,function*(){this.ticketService.getDataTableListActivitis(this.fecha.value).subscribe(e=>Object(g.a)(this,void 0,void 0,function*(){e&&(this.rows=e,this.temp=e,this.alerta=!0)}),e=>Object(g.a)(this,void 0,void 0,function*(){console.log(e),yield this.alert(e)}))})}alert(e){return Object(g.a)(this,void 0,void 0,function*(){const t=yield this.alertCtrl.create({cssClass:"my-custom-class",header:"Alert",subHeader:"solicitud hecha",message:e.message+" | "+e.name,buttons:["OK"]});yield t.present(),yield t.onDidDismiss()})}updateFilter(e){const t=e.target.value.toLowerCase(),i=this.temp.filter(({empresa:e,Coordinador_Obra:i,Nombre:o})=>e.toLowerCase().indexOf(t.toLowerCase())>-1||i.toLowerCase().indexOf(t.toLowerCase())>-1||o.toLowerCase().indexOf(t.toLowerCase())>-1);this.rows=i,this.table.offset=3}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(Ot),s.Lb(Mt.K),s.Lb(Mt.a))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-datatable-list-activity"]],viewQuery:function(e,t){if(1&e&&s.zc(pt,1),2&e){let e;s.lc(e=s.Zb())&&(t.table=e.first)}},decls:30,vars:18,consts:[["size","10"],["displayFormat","DDDD MMM D, YYYY",3,"formControl"],["size","2",1,"ion-align-self-center"],["expand","full",3,"click"],["name","search-outline"],["position","floating"],["type","text",3,"keyup"],["rowHeight","auto",1,"material",3,"rows","limit","columnMode","headerHeight","footerHeight","scrollbarH","page"],["table",""],[3,"rowHeight","toggle"],["myDetailRow",""],["ngx-datatable-row-detail-template",""],[3,"width","resizeable","sortable","draggable","canAutoResize"],["ngx-datatable-cell-template",""],["name","Date",3,"width"],["name","Company",3,"width"],["name","Name",3,"width"],["name","Dirrection",3,"width"],["name","Contact",3,"width"],[2,"padding-left","35px"],["size","small",3,"routerLink","queryParams"],["name","list-circle-outline"],["href","javascript:void(0)","title","Expand/Collapse Row",3,"click"],[3,"innerHTML"]],template:function(e,t){1&e&&(s.Qb(0,"ion-row"),s.Qb(1,"ion-col",0),s.Qb(2,"ion-item"),s.Mb(3,"ion-datetime",1),s.Pb(),s.Pb(),s.Qb(4,"ion-col",2),s.Qb(5,"ion-button",3),s.Yb("click",function(){return t.buscar()}),s.Mb(6,"ion-icon",4),s.Pb(),s.Pb(),s.Pb(),s.Mb(7,"hr"),s.Qb(8,"ion-item"),s.Qb(9,"ion-label",5),s.vc(10,"Search"),s.Pb(),s.Qb(11,"ion-input",6),s.Yb("keyup",function(e){return t.updateFilter(e)}),s.Pb(),s.Pb(),s.Mb(12,"br"),s.Qb(13,"ngx-datatable",7,8),s.Yb("page",function(e){return t.onPage(e)}),s.Qb(15,"ngx-datatable-row-detail",9,10),s.Yb("toggle",function(e){return t.onDetailToggle(e)}),s.tc(17,qt,19,10,"ng-template",11),s.Pb(),s.Qb(18,"ngx-datatable-column",12),s.tc(19,$t,1,4,"ng-template",13),s.Pb(),s.Qb(20,"ngx-datatable-column",14),s.tc(21,jt,1,1,"ng-template",13),s.Pb(),s.Qb(22,"ngx-datatable-column",15),s.tc(23,Gt,1,1,"ng-template",13),s.Pb(),s.Qb(24,"ngx-datatable-column",16),s.tc(25,Xt,1,1,"ng-template",13),s.Pb(),s.Qb(26,"ngx-datatable-column",17),s.tc(27,Ut,1,1,"ng-template",13),s.Pb(),s.Qb(28,"ngx-datatable-column",18),s.tc(29,Zt,1,1,"ng-template",13),s.Pb(),s.Pb()),2&e&&(s.zb(3),s.fc("formControl",t.fecha),s.zb(10),s.fc("rows",t.rows)("limit",15)("columnMode",t.ColumnMode.force)("headerHeight",50)("footerHeight",50)("scrollbarH",t.scrollBarHorizontal),s.zb(2),s.fc("rowHeight",100),s.zb(3),s.fc("width",50)("resizeable",!1)("sortable",!1)("draggable",!1)("canAutoResize",!1),s.zb(2),s.fc("width",100),s.zb(2),s.fc("width",150),s.zb(2),s.fc("width",150),s.zb(2),s.fc("width",200),s.zb(2),s.fc("width",200))},directives:[Mt.z,Mt.i,Mt.q,Mt.k,Mt.R,n.l,n.d,Mt.c,Mt.n,Mt.r,Mt.p,Mt.S,pt,Ne,Be,Ve,Le,Mt.Q,Rt.h],styles:[""]}),e})(),Jt=(()=>{class e{constructor(e,t){this.ticketService=e,this.menuCrtl=t}ngOnInit(){}ionViewWillEnter(){this.menuCrtl.enable(!0)}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(Ot),s.Lb(Mt.L))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-list-activity"]],decls:13,vars:1,consts:[[3,"translucent"],["slot","start"],["color","black"]],template:function(e,t){1&e&&(s.Qb(0,"ion-header",0),s.Qb(1,"ion-toolbar"),s.Qb(2,"ion-buttons",1),s.Mb(3,"ion-menu-button"),s.Pb(),s.Qb(4,"ion-title"),s.vc(5,"Activities list"),s.Pb(),s.Pb(),s.Pb(),s.Qb(6,"ion-content"),s.Qb(7,"ion-grid"),s.Qb(8,"ion-row"),s.Qb(9,"ion-col"),s.Qb(10,"ion-label",2),s.vc(11,"Activities list"),s.Pb(),s.Mb(12,"app-datatable-list-activity"),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&e&&s.fc("translucent",!0)},directives:[Mt.m,Mt.H,Mt.d,Mt.v,Mt.G,Mt.j,Mt.l,Mt.z,Mt.i,Mt.r,Kt],styles:[""]}),e})();function ei(e,t){1&e&&s.Mb(0,"i",16),2&e&&s.fc("innerHTML",t.row.Codigo,s.pc)}function ti(e,t){1&e&&s.Mb(0,"i",16),2&e&&s.fc("innerHTML",t.row.Nombre,s.pc)}function ii(e,t){1&e&&s.Mb(0,"i",16),2&e&&s.fc("innerHTML",t.row.num,s.pc)}function oi(e,t){1&e&&s.Mb(0,"i",16),2&e&&s.fc("innerHTML",t.row.pco,s.pc)}function ni(e,t){1&e&&s.Mb(0,"i",16),2&e&&s.fc("innerHTML",t.row.fecha_ticket,s.pc)}function si(e,t){1&e&&s.Mb(0,"i",16),2&e&&s.fc("innerHTML",t.row.horario,s.pc)}const ri=function(){return["/ticket/new"]},ai=function(e,t,i,o,n,s,r){return{generalContractor:e,codigo:t,nameProyeto:i,dirrecion:o,nameForeman:n,id_actividad:s,id_proyecto:r}};let li=(()=>{class e{constructor(e,t){this.ticketService=e,this.route=t,this.rows=[],this.expanded={},this.columns=[{prop:"Codigo",name:"Cod Proyect"},{prop:"Nombre",name:"Name Proyect"},{prop:"num",name:"Num"},{prop:"pco",name:"PCO#"},{prop:"fecha_ticket",name:"Date Ticket"},{prop:"horario",name:"Schelude"},{prop:"username",name:"Schedule"}],this.ColumnMode=Fe,this.scrollBarHorizontal=window.innerWidth<1200,window.onresize=()=>{this.scrollBarHorizontal=window.innerWidth<1200},this.param_id=parseInt(this.route.snapshot.paramMap.get("id")),this.proyect=this.route.snapshot.queryParams.proyect,this.nameForeman=this.route.snapshot.queryParams.nameForeman,this.id_proyecto=this.route.snapshot.queryParams.id_proyecto}ngOnInit(){this.datatable()}datatable(){return Object(g.a)(this,void 0,void 0,function*(){this.ticketService.getDataTableListTicket(this.param_id).subscribe(e=>Object(g.a)(this,void 0,void 0,function*(){e&&(this.generalContractor=e.empresa,this.codigo=e.Codigo,this.nameProyeto=e.Nombre,this.dirrecion=e.dirrecion,this.rows=e.tickets,this.temp=e.tickets,console.log(this.rows))}),e=>Object(g.a)(this,void 0,void 0,function*(){console.log(e)}))})}onPage(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{console.log("paged!",e)},1e3)}toggleExpandRow(e){console.log("Toggled Expand Row!",e),this.table.rowDetail.toggleExpandRow(e)}onDetailToggle(e){console.log("Detail Toggled",e)}updateFilter(e){const t=e.target.value.toLowerCase(),i=this.temp.filter(({Codigo:e,Nombre:i})=>e.toLowerCase().indexOf(t.toLowerCase())>-1||i.toLowerCase().indexOf(t.toLowerCase())>-1);this.rows=i,this.table.offset=3}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(Ot),s.Lb(Rt.a))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-datatable-ticket"]],viewQuery:function(e,t){if(1&e&&s.zc(pt,1),2&e){let e;s.lc(e=s.Zb())&&(t.table=e.first)}},decls:36,vars:26,consts:[["size","8"],["size","4"],["type","button","expand","full",3,"routerLink","queryParams"],["position","floating"],["type","text",3,"keyup"],["rowHeight","auto",1,"material",3,"rows","limit","columnMode","headerHeight","footerHeight","scrollbarH","page"],["table",""],[3,"rowHeight","toggle"],["myDetailRow",""],["name","Cod Proyect",3,"width"],["ngx-datatable-cell-template",""],["name","Name Proyect",3,"width"],["name","Num",3,"width"],["name","PCO#",3,"width"],["name","Date Ticket",3,"width"],["name","Schelude",3,"width"],[3,"innerHTML"]],template:function(e,t){1&e&&(s.Qb(0,"ion-row"),s.Qb(1,"ion-col",0),s.Qb(2,"h5"),s.Qb(3,"strong"),s.vc(4,"Ticket - Proyect :"),s.Pb(),s.Mb(5,"br"),s.vc(6),s.Mb(7,"br"),s.Qb(8,"strong"),s.vc(9,"Id :"),s.Pb(),s.vc(10),s.Pb(),s.Pb(),s.Qb(11,"ion-col",1),s.Mb(12,"br"),s.Qb(13,"ion-button",2),s.vc(14,"New ticket"),s.Pb(),s.Pb(),s.Pb(),s.Qb(15,"ion-item"),s.Qb(16,"ion-label",3),s.vc(17,"Search"),s.Pb(),s.Qb(18,"ion-input",4),s.Yb("keyup",function(e){return t.updateFilter(e)}),s.Pb(),s.Pb(),s.Mb(19,"br"),s.Qb(20,"ngx-datatable",5,6),s.Yb("page",function(e){return t.onPage(e)}),s.Qb(22,"ngx-datatable-row-detail",7,8),s.Yb("toggle",function(e){return t.onDetailToggle(e)}),s.Pb(),s.Qb(24,"ngx-datatable-column",9),s.tc(25,ei,1,1,"ng-template",10),s.Pb(),s.Qb(26,"ngx-datatable-column",11),s.tc(27,ti,1,1,"ng-template",10),s.Pb(),s.Qb(28,"ngx-datatable-column",12),s.tc(29,ii,1,1,"ng-template",10),s.Pb(),s.Qb(30,"ngx-datatable-column",13),s.tc(31,oi,1,1,"ng-template",10),s.Pb(),s.Qb(32,"ngx-datatable-column",14),s.tc(33,ni,1,1,"ng-template",10),s.Pb(),s.Qb(34,"ngx-datatable-column",15),s.tc(35,si,1,1,"ng-template",10),s.Pb(),s.Pb()),2&e&&(s.zb(6),s.xc("",t.proyect," "),s.zb(4),s.xc(" ",t.param_id," "),s.zb(3),s.fc("routerLink",s.gc(17,ri))("queryParams",s.kc(18,ai,t.generalContractor,t.codigo,t.nameProyeto,t.dirrecion,t.nameForeman,t.param_id,t.id_proyecto)),s.zb(7),s.fc("rows",t.rows)("limit",15)("columnMode",t.ColumnMode.force)("headerHeight",50)("footerHeight",50)("scrollbarH",t.scrollBarHorizontal),s.zb(2),s.fc("rowHeight",100),s.zb(2),s.fc("width",100),s.zb(2),s.fc("width",150),s.zb(2),s.fc("width",60),s.zb(2),s.fc("width",60),s.zb(2),s.fc("width",110),s.zb(2),s.fc("width",100))},directives:[Mt.z,Mt.i,Mt.c,Mt.Q,Rt.h,Mt.q,Mt.r,Mt.p,Mt.S,pt,Ne,Ve,Le],styles:["@media screen and (max-width:800px){.desktop-hidden{display:initial}.mobile-hidden{display:none}}@media screen and (min-width:800px){.desktop-hidden{display:none}.mobile-hidden{display:initial}}"],encapsulation:2}),e})(),ci=(()=>{class e{constructor(e,t){this.ticketService=e,this.menuCrtl=t}ngOnInit(){}ionViewWillEnter(){this.menuCrtl.enable(!0)}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(Ot),s.Lb(Mt.L))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-list-ticket"]],decls:11,vars:1,consts:[[3,"translucent"],["slot","start"]],template:function(e,t){1&e&&(s.Qb(0,"ion-header",0),s.Qb(1,"ion-toolbar"),s.Qb(2,"ion-buttons",1),s.Mb(3,"ion-menu-button"),s.Pb(),s.Qb(4,"ion-title"),s.vc(5,"list ticket"),s.Pb(),s.Pb(),s.Pb(),s.Qb(6,"ion-content"),s.Qb(7,"ion-grid"),s.Qb(8,"ion-row"),s.Qb(9,"ion-col"),s.Mb(10,"app-datatable-ticket"),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&e&&s.fc("translucent",!0)},directives:[Mt.m,Mt.H,Mt.d,Mt.v,Mt.G,Mt.j,Mt.l,Mt.z,Mt.i,li],styles:[""]}),e})();class hi{constructor(e,t,i){this.x=e,this.y=t,this.time=i||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class di{constructor(e,t,i,o,n,s){this.startPoint=e,this.control2=t,this.control1=i,this.endPoint=o,this.startWidth=n,this.endWidth=s}static fromPoints(e,t){const i=this.calculateControlPoints(e[0],e[1],e[2]).c2,o=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new di(e[1],i,o,e[2],t.start,t.end)}static calculateControlPoints(e,t,i){const o=e.x-t.x,n=e.y-t.y,s=t.x-i.x,r=t.y-i.y,a=(e.x+t.x)/2,l=(e.y+t.y)/2,c=(t.x+i.x)/2,h=(t.y+i.y)/2,d=Math.sqrt(o*o+n*n),u=Math.sqrt(s*s+r*r),g=u/(d+u),p=t.x-(c+(a-c)*g),b=t.y-(h+(l-h)*g);return{c1:new hi(a+p,l+b),c2:new hi(c+p,h+b)}}length(){let e,t,i=0;for(let o=0;o<=10;o+=1){const n=o/10,s=this.point(n,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),r=this.point(n,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){const o=s-e,n=r-t;i+=Math.sqrt(o*o+n*n)}e=s,t=r}return i}point(e,t,i,o,n){return t*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*o*(1-e)*e*e+n*e*e*e}}class ui{constructor(e,t={}){this.canvas=e,this.options=t,this._handleMouseDown=e=>{1===e.which&&(this._mouseButtonDown=!0,this._strokeBegin(e))},this._handleMouseMove=e=>{this._mouseButtonDown&&this._strokeMoveUpdate(e)},this._handleMouseUp=e=>{1===e.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(e))},this._handleTouchStart=e=>{e.preventDefault(),1===e.targetTouches.length&&this._strokeBegin(e.changedTouches[0])},this._handleTouchMove=e=>{e.preventDefault(),this._strokeMoveUpdate(e.targetTouches[0])},this._handleTouchEnd=e=>{e.target===this.canvas&&(e.preventDefault(),this._strokeEnd(e.changedTouches[0]))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._strokeMoveUpdate=this.throttle?function(e,t=250){let i,o,n,s=0,r=null;const a=()=>{s=Date.now(),r=null,i=e.apply(o,n),r||(o=null,n=[])};return function(...l){const c=Date.now(),h=t-(c-s);return o=this,n=l,h<=0||h>t?(r&&(clearTimeout(r),r=null),s=c,i=e.apply(o,n),r||(o=null,n=[])):r||(r=window.setTimeout(a,h)),i}}(ui.prototype._strokeUpdate,this.throttle):ui.prototype._strokeUpdate,this._ctx=e.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:e,canvas:t}=this;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(e,t={},i){const o=new Image,n=t.ratio||window.devicePixelRatio||1,s=t.width||this.canvas.width/n,r=t.height||this.canvas.height/n;this._reset(),o.onload=()=>{this._ctx.drawImage(o,0,0,s,r),i&&i()},o.onerror=e=>{i&&i(e)},o.src=e,this._isEmpty=!1}toDataURL(e="image/png",t){switch(e){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(e,t)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e){this.clear(),this._fromData(e,({color:e,curve:t})=>this._drawCurve({color:e,curve:t}),({color:e,point:t})=>this._drawDot({color:e,point:t})),this._data=e}toData(){return this._data}_strokeBegin(e){const t={color:this.penColor,points:[]};"function"==typeof this.onBegin&&this.onBegin(e),this._data.push(t),this._reset(),this._strokeUpdate(e)}_strokeUpdate(e){if(0===this._data.length)return void this._strokeBegin(e);const t=this._createPoint(e.clientX,e.clientY),i=this._data[this._data.length-1],o=i.points,n=o.length>0&&o[o.length-1],s=!!n&&t.distanceTo(n)<=this.minDistance,r=i.color;if(!n||!n||!s){const e=this._addPoint(t);n?e&&this._drawCurve({color:r,curve:e}):this._drawDot({color:r,point:t}),o.push({time:t.time,x:t.x,y:t.y})}}_strokeEnd(e){this._strokeUpdate(e),"function"==typeof this.onEnd&&this.onEnd(e)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(e,t){const i=this.canvas.getBoundingClientRect();return new hi(e-i.left,t-i.top,(new Date).getTime())}_addPoint(e){const{_lastPoints:t}=this;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);const e=this._calculateCurveWidths(t[1],t[2]),i=di.fromPoints(t,e);return t.shift(),i}return null}_calculateCurveWidths(e,t){const i=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(i),n={end:o,start:this._lastWidth};return this._lastVelocity=i,this._lastWidth=o,n}_strokeWidth(e){return Math.max(this.maxWidth/(e+1),this.minWidth)}_drawCurveSegment(e,t,i){const o=this._ctx;o.moveTo(e,t),o.arc(e,t,i,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:e,curve:t}){const i=this._ctx,o=t.endWidth-t.startWidth,n=2*Math.floor(t.length());i.beginPath(),i.fillStyle=e;for(let s=0;s<n;s+=1){const e=s/n,i=e*e,r=i*e,a=1-e,l=a*a,c=l*a;let h=c*t.startPoint.x;h+=3*l*e*t.control1.x,h+=3*a*i*t.control2.x,h+=r*t.endPoint.x;let d=c*t.startPoint.y;d+=3*l*e*t.control1.y,d+=3*a*i*t.control2.y,d+=r*t.endPoint.y;const u=Math.min(t.startWidth+r*o,this.maxWidth);this._drawCurveSegment(h,d,u)}i.closePath(),i.fill()}_drawDot({color:e,point:t}){const i=this._ctx,o="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.beginPath(),this._drawCurveSegment(t.x,t.y,o),i.closePath(),i.fillStyle=e,i.fill()}_fromData(e,t,i){for(const o of e){const{color:e,points:n}=o;if(n.length>1)for(let i=0;i<n.length;i+=1){const o=n[i],s=new hi(o.x,o.y,o.time);this.penColor=e,0===i&&this._reset();const r=this._addPoint(s);r&&t({color:e,curve:r})}else this._reset(),i({color:e,point:n[0]})}}_toSVG(){const e=this._data,t=Math.max(window.devicePixelRatio||1,1),i=this.canvas.width/t,o=this.canvas.height/t,n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("width",this.canvas.width.toString()),n.setAttribute("height",this.canvas.height.toString()),this._fromData(e,({color:e,curve:t})=>{const i=document.createElement("path");if(!(isNaN(t.control1.x)||isNaN(t.control1.y)||isNaN(t.control2.x)||isNaN(t.control2.y))){const o=`M ${t.startPoint.x.toFixed(3)},${t.startPoint.y.toFixed(3)} C ${t.control1.x.toFixed(3)},${t.control1.y.toFixed(3)} ${t.control2.x.toFixed(3)},${t.control2.y.toFixed(3)} ${t.endPoint.x.toFixed(3)},${t.endPoint.y.toFixed(3)}`;i.setAttribute("d",o),i.setAttribute("stroke-width",(2.25*t.endWidth).toFixed(3)),i.setAttribute("stroke",e),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),n.appendChild(i)}},({color:e,point:t})=>{const i=document.createElement("circle"),o="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.setAttribute("r",o.toString()),i.setAttribute("cx",t.x.toString()),i.setAttribute("cy",t.y.toString()),i.setAttribute("fill",e),n.appendChild(i)});const s=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 ${i} ${o}" width="${i}" height="${o}">`;let r=n.innerHTML;if(void 0===r){const e=document.createElement("dummy"),t=n.childNodes;e.innerHTML="";for(let i=0;i<t.length;i+=1)e.appendChild(t[i].cloneNode(!0));r=e.innerHTML}return"data:image/svg+xml;base64,"+btoa(s+r+"</svg>")}}var gi=ui;const pi=["canvas"];let bi=(()=>{class e{constructor(e,t){this.modalController=e,this.navParams=t}ngOnInit(){}ngAfterViewInit(){this.signaturePad=new gi(this.signaturePadElement.nativeElement)}save(){const e=this.signaturePad.toDataURL();this.modalController.dismiss(e)}close(){this.modalController.dismiss()}clear(){this.signaturePad.clear()}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(Mt.M),s.Lb(Mt.N))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-signature"]],viewQuery:function(e,t){if(1&e&&s.zc(pi,3),2&e){let e;s.lc(e=s.Zb())&&(t.signaturePadElement=e.first)}},decls:19,vars:0,consts:[["padding",""],["size","12","text-center",""],["position","stacked"],[1,"signature-pad--body"],["width","330","height","300",2,"touch-action","none"],["canvas",""],["expand","full",3,"click"]],template:function(e,t){1&e&&(s.Qb(0,"ion-content",0),s.Qb(1,"ion-col",1),s.Qb(2,"ion-item"),s.Qb(3,"ion-label",2),s.vc(4,"Tap to sign"),s.Pb(),s.Mb(5,"br"),s.Qb(6,"div",3),s.Mb(7,"canvas",4,5),s.Pb(),s.Pb(),s.Qb(9,"ion-row"),s.Qb(10,"ion-col"),s.Qb(11,"ion-button",6),s.Yb("click",function(){return t.save()}),s.vc(12,"Save"),s.Pb(),s.Pb(),s.Qb(13,"ion-col"),s.Qb(14,"ion-button",6),s.Yb("click",function(){return t.clear()}),s.vc(15,"Clear"),s.Pb(),s.Pb(),s.Qb(16,"ion-col"),s.Qb(17,"ion-button",6),s.Yb("click",function(){return t.close()}),s.vc(18,"Close"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb())},directives:[Mt.j,Mt.i,Mt.q,Mt.r,Mt.z,Mt.c],styles:[".signature-pad[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;font-size:10px;width:100%;height:100%;max-width:900px;max-height:460px;border:1px solid #e8e8e8;background-color:#fff;box-shadow:0 1px 4px rgba(0,0,0,.27),inset 0 0 40px rgba(0,0,0,.08);border-radius:4px;padding:16px}.signature-pad--body[_ngcontent-%COMP%]{position:relative;flex:1;border:1px solid #f4f4f4}"]}),e})();function mi(e,t){if(1&e&&(s.Qb(0,"div"),s.Ob(1),s.Qb(2,"small",1),s.vc(3),s.Pb(),s.Nb(),s.Pb()),2&e){const e=s.ac();s.zb(3),s.wc(e.errorMsg)}}let fi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Fb({type:e,selectors:[["app-field-error-display"]],inputs:{errorMsg:"errorMsg",displayError:"displayError"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"error-message"]],template:function(e,t){1&e&&s.tc(0,mi,4,1,"div",0),2&e&&s.fc("ngIf",t.displayError)},directives:[o.k],styles:[".error-message[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),e})();function wi(e,t){if(1&e){const e=s.Rb();s.Qb(0,"ion-card"),s.Qb(1,"ion-card-content"),s.Ob(2,4),s.Qb(3,"ion-col",5),s.Qb(4,"ion-item"),s.Qb(5,"ion-label",6),s.vc(6,"MATERIAL DESCRIPTION"),s.Pb(),s.Qb(7,"ion-input",7),s.Yb("click",function(){s.oc(e);const i=t.index;return s.ac().selectMaterialModal(i)}),s.Pb(),s.Pb(),s.Mb(8,"app-field-error-display",8),s.Pb(),s.Qb(9,"ion-col",5),s.Qb(10,"ion-item"),s.Qb(11,"ion-label",6),s.vc(12,"UNIT OF MEASUREMENT"),s.Pb(),s.Mb(13,"ion-input",9),s.Pb(),s.Pb(),s.Qb(14,"ion-col",5),s.Qb(15,"ion-item"),s.Qb(16,"ion-label",6),s.vc(17,"QTY"),s.Pb(),s.Mb(18,"ion-input",10),s.Pb(),s.Mb(19,"app-field-error-display",11),s.Pb(),s.Nb(),s.Qb(20,"ion-button",12),s.Yb("click",function(){s.oc(e);const i=t.index;return s.ac().removeMaterial(i)}),s.vc(21,"delete"),s.Pb(),s.Pb(),s.Pb()}if(2&e){const e=t.index,i=s.ac();s.zb(2),s.fc("formGroup",i.getFormGroupAt(e)),s.zb(6),s.fc("displayError",i.isFieldValid("descripcion",e)),s.zb(11),s.fc("displayError",i.isFieldValid("cantidad",e))}}function yi(e,t){1&e&&(s.Qb(0,"ion-card"),s.Qb(1,"ion-card-content"),s.Qb(2,"ion-col",5),s.Qb(3,"ion-label"),s.vc(4,"I don't add anything"),s.Pb(),s.Pb(),s.Pb(),s.Pb())}let vi=(()=>{class e{constructor(e,t){this.fb=e,this.modalController=t,this.onChange=e=>{},this.onTouch=()=>{}}ngOnInit(){}addMaterial(){const e=new n.f({id_material:new n.c("",[n.q.required]),descripcion:new n.c("",[n.q.required]),unidad_medida:new n.c("",[n.q.required]),cantidad:new n.c(0,[n.q.required,n.q.min(1),n.q.max(15e3)])});if(this.materiales.push(e),this.materiales.valid)console.log("form material");else{this.materiales.at(0);for(let e=0;e<this.materiales.length;e++)this.validateAllFormFields(this.materiales.at(e))}this.onTouch(),this.materiales.valueChanges.subscribe(e=>{this.onChange(e)})}getFormGroupAt(e){return this.materiales.at(e)}removeMaterial(e){this.materiales.removeAt(e),this.onTouch(),this.materiales.valueChanges.subscribe(e=>{this.onChange(e)})}isFieldValid(e,t){return!this.materiales.at(t).get(e).valid&&this.materiales.at(t).get(e).touched}validateAllFormFields(e){Object.keys(e.controls).forEach(t=>{const i=e.get(t);i instanceof n.c?i.markAsTouched({onlySelf:!0}):i instanceof n.f&&this.validateAllFormFields(i)})}selectMaterialModal(e){return Object(g.a)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:Bt,cssClass:"my-custom-class",componentProps:{tipo:"materiales",id:1506}});return t.onDidDismiss().then(t=>{if(t.data){const i=t.data;this.materiales.at(e).get("id_material").setValue(i.id),this.materiales.at(e).get("descripcion").setValue(i.text),this.materiales.at(e).get("unidad_medida").setValue(i.unidad_medida)}}),yield t.present()})}writeValue(e){this.materiales=new n.a(e.map(e=>{const t=new n.f({id_material:new n.c(e.id_material),descripcion:new n.c(e.descripcion),unidad_medida:new n.c(e.unidad_medida),cantidad:new n.c(e.cantidad)});this.materiales.push(t),this.onTouch(),this.materiales.valueChanges.subscribe(e=>{this.onChange(e)})}))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(){}validate({}){return console.log(!this.materiales.valid),!this.materiales||this.materiales.valid?null:{error:"error"}}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(n.b),s.Lb(Mt.M))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-material"]],features:[s.yb([{provide:n.j,multi:!0,useExisting:Object(s.U)(()=>e)},{provide:n.i,multi:!0,useExisting:Object(s.U)(()=>e)}])],decls:12,vars:2,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button","expand","full",3,"click"],["expand","full"],[3,"formGroup"],["size","12"],["position","stacked"],["formControlName","descripcion","value","",3,"click"],["errorMsg","description is required",3,"displayError"],["formControlName","unidad_medida","value","","readonly",""],["type","number","formControlName","cantidad","value",""],["errorMsg","quantity is required and greater 0",3,"displayError"],["expand","full",3,"click"]],template:function(e,t){1&e&&(s.Qb(0,"ion-card-header"),s.Qb(1,"ion-card-subtitle"),s.vc(2,"Material"),s.Pb(),s.Pb(),s.tc(3,wi,22,3,"ion-card",0),s.tc(4,yi,5,0,"ion-card",1),s.Qb(5,"ion-row"),s.Qb(6,"ion-col"),s.Qb(7,"ion-button",2),s.Yb("click",function(){return t.addMaterial()}),s.vc(8,"Add Material"),s.Pb(),s.Pb(),s.Qb(9,"ion-col"),s.Qb(10,"ion-button",3),s.vc(11,"Create Material"),s.Pb(),s.Pb(),s.Pb()),2&e&&(s.zb(3),s.fc("ngForOf",t.materiales.controls),s.zb(1),s.fc("ngIf",0===t.materiales.length))},directives:[Mt.g,Mt.h,o.j,o.k,Mt.z,Mt.i,Mt.c,Mt.e,Mt.f,n.m,n.g,Mt.q,Mt.r,Mt.p,Mt.S,n.l,n.e,fi,Mt.O],styles:[""]}),e})();function xi(e,t){if(1&e){const e=s.Rb();s.Qb(0,"ion-card"),s.Qb(1,"ion-card-content"),s.Ob(2,4),s.Qb(3,"ion-col",5),s.Qb(4,"ion-item"),s.Qb(5,"ion-label",6),s.vc(6,"N\xb0 WORKERS"),s.Pb(),s.Mb(7,"ion-input",7),s.Pb(),s.Mb(8,"app-field-error-display",8),s.Pb(),s.Qb(9,"ion-col",5),s.Qb(10,"ion-item"),s.Qb(11,"ion-label",6),s.vc(12,"CLASS"),s.Pb(),s.Qb(13,"ion-input",9),s.Yb("click",function(){s.oc(e);const i=t.index;return s.ac().selectClassWorker(i)}),s.Pb(),s.Pb(),s.Mb(14,"app-field-error-display",10),s.Pb(),s.Qb(15,"ion-col",5),s.Qb(16,"ion-item"),s.Qb(17,"ion-label",6),s.vc(18,"REG HOURS"),s.Pb(),s.Qb(19,"ion-input",11),s.Yb("keyup",function(){s.oc(e);const i=t.index,o=s.ac();return o.valueChange(o.workers.at(i).get("n_worker").value,o.workers.at(i).get("reg_hours").value,i,"horas")}),s.Pb(),s.Pb(),s.Mb(20,"app-field-error-display",12),s.Pb(),s.Qb(21,"ion-col",5),s.Qb(22,"ion-item"),s.Qb(23,"ion-label",6),s.vc(24,"TOTAL REG HOURS"),s.Pb(),s.Mb(25,"ion-input",13),s.Pb(),s.Pb(),s.Qb(26,"ion-col",5),s.Qb(27,"ion-item"),s.Qb(28,"ion-label",6),s.vc(29,"PREMIUM HOURS"),s.Pb(),s.Qb(30,"ion-input",14),s.Yb("keyup",function(){s.oc(e);const i=t.index,o=s.ac();return o.valueChange(o.workers.at(i).get("n_worker").value,o.workers.at(i).get("premium_hours").value,i,"premium_horas")}),s.Pb(),s.Pb(),s.Mb(31,"app-field-error-display",15),s.Pb(),s.Qb(32,"ion-col",5),s.Qb(33,"ion-item"),s.Qb(34,"ion-label",6),s.vc(35,"TOTAL PREMIUM HOURS"),s.Pb(),s.Mb(36,"ion-input",16),s.Pb(),s.Pb(),s.Qb(37,"ion-col",5),s.Qb(38,"ion-item"),s.Qb(39,"ion-label",6),s.vc(40,"OUT HOURS"),s.Pb(),s.Qb(41,"ion-input",17),s.Yb("keyup",function(){s.oc(e);const i=t.index,o=s.ac();return o.valueChange(o.workers.at(i).get("n_worker").value,o.workers.at(i).get("out_hours").value,i,"out_horas")}),s.Pb(),s.Pb(),s.Mb(42,"app-field-error-display",18),s.Pb(),s.Qb(43,"ion-col",5),s.Qb(44,"ion-item"),s.Qb(45,"ion-label",6),s.vc(46,"TOTAL OUT HOURS"),s.Pb(),s.Mb(47,"ion-input",19),s.Pb(),s.Pb(),s.Qb(48,"ion-col",5),s.Qb(49,"ion-item"),s.Qb(50,"ion-label",6),s.vc(51,"PREPAID HOURS"),s.Pb(),s.Qb(52,"ion-input",20),s.Yb("keyup",function(){s.oc(e);const i=t.index,o=s.ac();return o.valueChange(o.workers.at(i).get("n_worker").value,o.workers.at(i).get("prepaid_hours").value,i,"prepaid_horas")}),s.Pb(),s.Pb(),s.Mb(53,"app-field-error-display",21),s.Pb(),s.Qb(54,"ion-col",5),s.Qb(55,"ion-item"),s.Qb(56,"ion-label",6),s.vc(57,"TOTAL PREPAID HOURS"),s.Pb(),s.Mb(58,"ion-input",22),s.Pb(),s.Pb(),s.Qb(59,"ion-button",2),s.Yb("click",function(){s.oc(e);const i=t.index;return s.ac().removeWorker(i)}),s.vc(60,"delete"),s.Pb(),s.Nb(),s.Pb(),s.Pb()}if(2&e){const e=t.index,i=s.ac();s.zb(2),s.fc("formGroup",i.getFormGroupAt(e)),s.zb(6),s.fc("displayError",i.isFieldValid("n_worker",e)),s.zb(6),s.fc("displayError",i.isFieldValid("n_class_worker",e)),s.zb(6),s.fc("displayError",i.isFieldValid("reg_hours",e)),s.zb(11),s.fc("displayError",i.isFieldValid("premium_hours",e)),s.zb(11),s.fc("displayError",i.isFieldValid("out_hours",e)),s.zb(11),s.fc("displayError",i.isFieldValid("prepaid_hours",e))}}function Ci(e,t){1&e&&(s.Qb(0,"ion-card-content"),s.Qb(1,"ion-col",5),s.Qb(2,"ion-label"),s.vc(3,"I don't add anything"),s.Pb(),s.Pb(),s.Pb())}let Pi=(()=>{class e{constructor(e){this.modalController=e,this.onChange=e=>{},this.onTouch=()=>{}}ngOnInit(){}addWorker(){const e=new n.f({n_worker:new n.c(0,[n.q.required,n.q.min(1),n.q.max(99)]),n_class_worker:new n.c("",[n.q.required]),id_class_worker:new n.c("",[n.q.required]),reg_hours:new n.c(0,[n.q.min(0),n.q.max(99)]),total_reg_hours:new n.c("",[n.q.required]),premium_hours:new n.c(0,[n.q.min(0),n.q.max(99)]),total_premium_hours:new n.c("",[]),out_hours:new n.c(0,[n.q.min(0),n.q.max(99)]),total_out_hours:new n.c("",[]),prepaid_hours:new n.c(0,[,n.q.min(0),n.q.max(99)]),total_prepaid_hours:new n.c("",[])});if(this.workers.push(e),this.workers.valid)console.log("form material");else{this.workers.at(0);for(let e=0;e<this.workers.length;e++)this.validateAllFormFields(this.workers.at(e))}this.onTouch(),this.workers.valueChanges.subscribe(e=>{this.onChange(e)})}isFieldValid(e,t){return!this.workers.at(t).get(e).valid&&this.workers.at(t).get(e).touched}validateAllFormFields(e){Object.keys(e.controls).forEach(t=>{const i=e.get(t);i instanceof n.c?i.markAsTouched({onlySelf:!0}):i instanceof n.f&&this.validateAllFormFields(i)})}writeValue(e){this.workers=new n.a(e.map(e=>{const t=new n.f({id_material:new n.c(e.id_material),descripcion:new n.c(e.descripcion),unidad_medida:new n.c(e.unidad_medida),cantidad:new n.c(e.cantidad)});this.workers.push(t),this.onTouch(),this.workers.valueChanges.subscribe(e=>{this.onChange(e)})}))}removeWorker(e){this.workers.removeAt(e),this.onTouch(),this.workers.valueChanges.subscribe(e=>{this.onChange(e)})}getFormGroupAt(e){return this.workers.at(e)}selectClassWorker(e){return Object(g.a)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:Bt,cssClass:"my-custom-class",componentProps:{tipo:"classWorker",id:""}});return t.onDidDismiss().then(t=>{if(t.data){const i=t.data;this.workers.at(e).get("n_class_worker").setValue(i.text),this.workers.at(e).get("id_class_worker").setValue(i.id)}}),yield t.present()})}valueChange(e,t,i,o){switch(o){case"horas":this.workers.at(i).get("total_reg_hours").setValue(e*t);break;case"premium_horas":this.workers.at(i).get("total_premium_hours").setValue(e*t);break;case"out_horas":this.workers.at(i).get("total_out_hours").setValue(e*t);break;case"prepaid_horas":this.workers.at(i).get("total_prepaid_hours").setValue(e*t)}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(){}validate({}){return console.log(!this.workers.valid),!this.workers||this.workers.valid?null:{error:"error"}}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(Mt.M))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-workers"]],features:[s.yb([{provide:n.j,multi:!0,useExisting:Object(s.U)(()=>e)},{provide:n.i,multi:!0,useExisting:Object(s.U)(()=>e)}])],decls:13,vars:2,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],["expand","full",3,"click"],["expand","full"],[3,"formGroup"],["size","12"],["position","stacked"],["type","number","min","0","formControlName","n_worker","value",""],["errorMsg","WORKERS is required and greater 0",3,"displayError"],["formControlName","n_class_worker","value","","readonly","",3,"click"],["errorMsg","CLASS is required",3,"displayError"],["formControlName","reg_hours","type","number","min","0","value","",3,"keyup"],["errorMsg","REG HOURS is required and greater 0",3,"displayError"],["formControlName","total_reg_hours","readonly","","value",""],["formControlName","premium_hours","type","number","min","0","value","",3,"keyup"],["errorMsg","PREMIUM HOURS is required and greater 0",3,"displayError"],["formControlName","total_premium_hours","readonly","","value",""],["formControlName","out_hours","type","number","min","0","value","",3,"keyup"],["errorMsg","OUT HOURS is required and greater 0",3,"displayError"],["formControlName","total_out_hours","readonly","","value",""],["formControlName","prepaid_hours","type","number","min","0","value","",3,"keyup"],["errorMsg","PREPAID HOURS is required and greater 0",3,"displayError"],["formControlName","total_prepaid_hours","readonly","","value",""]],template:function(e,t){1&e&&(s.Qb(0,"ion-card-header"),s.Qb(1,"ion-card-subtitle"),s.vc(2,"workers"),s.Pb(),s.Pb(),s.tc(3,xi,61,7,"ion-card",0),s.Qb(4,"ion-card"),s.tc(5,Ci,4,0,"ion-card-content",1),s.Pb(),s.Qb(6,"ion-row"),s.Qb(7,"ion-col"),s.Qb(8,"ion-button",2),s.Yb("click",function(){return t.addWorker()}),s.vc(9,"Add Worker"),s.Pb(),s.Pb(),s.Qb(10,"ion-col"),s.Qb(11,"ion-button",3),s.vc(12,"Create Profession"),s.Pb(),s.Pb(),s.Pb()),2&e&&(s.zb(3),s.fc("ngForOf",t.workers.controls),s.zb(2),s.fc("ngIf",0===t.workers.length))},directives:[Mt.g,Mt.h,o.j,Mt.e,o.k,Mt.z,Mt.i,Mt.c,Mt.f,n.m,n.g,Mt.q,Mt.r,Mt.p,Mt.O,n.l,n.e,fi,Mt.S],styles:[""]}),e})();const ki=[{path:"",redirectTo:"list-Activitys",pathMatch:"full"},{path:"new",component:(()=>{class e{constructor(e,t,i,o,n,s){this.serviceTicket=e,this.route=t,this.modalController=i,this.formBuilder=o,this.router=n,this.alertCtrl=s,this.id_actividad=this.route.snapshot.queryParams.id_actividad,this.builderForm(this.route.snapshot.queryParams.generalContractor,this.route.snapshot.queryParams.codigo,this.route.snapshot.queryParams.nameProyeto,this.route.snapshot.queryParams.dirrecion,this.route.snapshot.queryParams.nameForeman,this.route.snapshot.queryParams.id_proyecto)}ngOnInit(){}getSignatureSuperIntendente(){return this.new_form_ticket.get("signature_superintendente").value}getSignatureForeman(){return this.new_form_ticket.get("signarute_foreman").value}builderForm(e,t,i,o,s,r){this.new_form_ticket=this.formBuilder.group({assignTicket:["",[n.q.required]],empleado_id:["",[n.q.required]],general_contractor:[e,[n.q.required]],proyect:[t,[n.q.required]],proyect_nombre:[i,[n.q.required]],proyect_address:[o,[n.q.required]],date_work:["",[n.q.required]],foreman_name:[s,[n.q.required]],pco:["",[n.q.required]],horario:["",[n.q.required]],descripcion:["",[n.q.required]],id_proyecto:[r,[n.q.required]],superintendente_name:["",[n.q.required]],finish_date:[null,[n.q.required]],materiales:[[]],imagesInicio:[[]],imagesFinal:[[]],workers:[[]],signarute_foreman:[""],signature_superintendente:[""]})}selectPersonalModal(){return Object(g.a)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:Bt,cssClass:"my-custom-class",componentProps:{tipo:"personal"}});return e.onDidDismiss().then(e=>{if(e.data){const t=e.data;this.new_form_ticket.get("empleado_id").setValue(t.id),this.new_form_ticket.get("assignTicket").setValue(t.text)}}),yield e.present()})}selectWhereModal(){return Object(g.a)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:Bt,cssClass:"my-custom-class",componentProps:{tipo:"where"}});return e.onDidDismiss().then(e=>{}),yield e.present()})}selectWhatModal(){return Object(g.a)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:Bt,cssClass:"my-custom-class",componentProps:{tipo:"what"}});return e.onDidDismiss().then(e=>{if(e.data){const t=e.data.text,i=this.new_form_ticket.get("descripcion").value;this.new_form_ticket.get("descripcion").setValue(`${i}\n${t}`)}}),yield e.present()})}selectWhyModal(){return Object(g.a)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:Bt,cssClass:"my-custom-class",componentProps:{tipo:"why"}});return e.onDidDismiss().then(e=>{if(e.data){const t=e.data.text,i=this.new_form_ticket.get("descripcion").value;this.new_form_ticket.get("descripcion").setValue(`${i}\n${t}`)}}),yield e.present()})}obtenerFechaActual(){const e=Date.now();return new Date(e)}formatoFecha(e,t){const i={dd:e.getDate()+1<10?"0"+(e.getDate()+1):e.getDate()+1,mm:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,yy:e.getFullYear().toString().slice(),yyyy:e.getFullYear()};return t.replace(/dd|mm|yy|yyy/gi,e=>i[e])}FirmaSuperIntententeModal(){return Object(g.a)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:bi,cssClass:"my-custom-class",componentProps:{tipo:"superintendete"}});return e.onDidDismiss().then(e=>{e.data&&this.new_form_ticket.get("signature_superintendente").setValue(e.data)}),yield e.present()})}FirmaForemanModal(){return Object(g.a)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:bi,cssClass:"my-custom-class",componentProps:{tipo:"superintendete"}});return e.onDidDismiss().then(e=>{e.data&&this.new_form_ticket.get("signarute_foreman").setValue(e.data)}),yield e.present()})}isFieldValid(e){return!this.new_form_ticket.get(e).valid&&this.new_form_ticket.get(e).touched}displayFieldCss(e){return{"has-error":this.isFieldValid(e),"has-feedback":this.isFieldValid(e)}}save(e){return Object(g.a)(this,void 0,void 0,function*(){e.preventDefault();const t=this.new_form_ticket.value;console.log(t),console.log(this.new_form_ticket.status),this.new_form_ticket.valid?(console.log("form submitted"),this.new_form_ticket.status&&this.serviceTicket.postSaveTicket(t,this.id_actividad).subscribe(e=>Object(g.a)(this,void 0,void 0,function*(){console.log(e),yield this.alert("Save")}),e=>Object(g.a)(this,void 0,void 0,function*(){console.log("error")}))):(this.validateAllFormFields(this.new_form_ticket),yield this.alert("Campos incompletos")),yield this.serviceTicket.deleteAllImagen()})}alert(e){return Object(g.a)(this,void 0,void 0,function*(){const t=yield this.alertCtrl.create({cssClass:"my-custom-class",header:"Alert",subHeader:e,message:"",buttons:["OK"]});yield t.present(),yield t.onDidDismiss()})}validateAllFormFields(e){Object.keys(e.controls).forEach(t=>{const i=e.get(t);i instanceof n.c?i.markAsTouched({onlySelf:!0}):i instanceof n.f&&this.validateAllFormFields(i)})}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(Ot),s.Lb(Rt.a),s.Lb(Mt.M),s.Lb(n.b),s.Lb(Rt.g),s.Lb(Mt.a))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-new-ticket"]],decls:140,vars:14,consts:[[3,"translucent"],["slot","start"],[3,"formGroup","ngSubmit"],["size","12"],["position","stacked"],["formControlName","assignTicket","placeholder","select one",3,"click"],["errorMsg","Assign ticket is required",3,"displayError"],["formControlName","general_contractor","value","","readonly",""],["formControlName","proyect","value","","readonly",""],["formControlName","proyect_nombre","value","","readonly",""],["formControlName","proyect_address","value","","readonly",""],["formControlName","date_work","placeholder","From date","displayFormat","MM/DD/YYYY"],["errorMsg","date work is required",3,"displayError"],["formControlName","foreman_name","value",""],["errorMsg","foreman name is required",3,"displayError"],["formControlName","pco","value",""],["errorMsg","pco is required",3,"displayError"],["formControlName","horario","placeholder","Select One"],["value","day"],["value","night"],["value","overtime"],["value","premium time"],["errorMsg","Total hours is required",3,"displayError"],["type","text","rows","4","formControlName","descripcion","value",""],["errorMsg","Description of work is required",3,"displayError"],["expand","full",3,"click"],["formControlName","materiales"],["formControlName","workers"],["formControlName","superintendente_name","value","","placeholder","name"],["errorMsg","superintendente name of work is required",3,"displayError"],["formControlName","finish_date","placeholder","From date","displayFormat","MM/DD/YYYY"],["errorMsg","finish date is required",3,"displayError"],["formControlName","imagesInicio",3,"tipo"],["formControlName","imagesFinal",3,"tipo"],[3,"src"],["fill","outline","slot","end",3,"click"],["name","pencil-outline"],["type","submit","expand","full"]],template:function(e,t){1&e&&(s.Qb(0,"ion-header",0),s.Qb(1,"ion-toolbar"),s.Qb(2,"ion-buttons",1),s.Mb(3,"ion-menu-button"),s.Pb(),s.Qb(4,"ion-title"),s.vc(5,"New ticket"),s.Pb(),s.Pb(),s.Pb(),s.Qb(6,"ion-content"),s.Qb(7,"ion-card"),s.Qb(8,"ion-card-content"),s.Qb(9,"form",2),s.Yb("ngSubmit",function(e){return t.save(e)}),s.Qb(10,"ion-grid"),s.Qb(11,"ion-row"),s.Qb(12,"ion-col",3),s.Qb(13,"ion-item"),s.Qb(14,"ion-label",4),s.vc(15,"Assign ticket to:"),s.Pb(),s.Qb(16,"ion-input",5),s.Yb("click",function(){return t.selectPersonalModal()}),s.Pb(),s.Pb(),s.Mb(17,"app-field-error-display",6),s.Pb(),s.Qb(18,"ion-card-header"),s.Qb(19,"ion-card-subtitle"),s.vc(20,"Extra Work Orden"),s.Pb(),s.Pb(),s.Qb(21,"ion-col",3),s.Qb(22,"ion-item"),s.Qb(23,"ion-label",4),s.vc(24,"General Contractor"),s.Pb(),s.Mb(25,"ion-input",7),s.Pb(),s.Pb(),s.Pb(),s.Qb(26,"ion-col",3),s.Qb(27,"ion-item"),s.Qb(28,"ion-label",4),s.vc(29,"PRECISION WALL TECH PROJECT"),s.Pb(),s.Mb(30,"ion-input",8),s.Pb(),s.Pb(),s.Qb(31,"ion-col",3),s.Qb(32,"ion-item"),s.Qb(33,"ion-label",4),s.vc(34,"Project Name"),s.Pb(),s.Mb(35,"ion-input",9),s.Pb(),s.Pb(),s.Qb(36,"ion-col",3),s.Qb(37,"ion-item"),s.Qb(38,"ion-label",4),s.vc(39,"Project Address"),s.Pb(),s.Mb(40,"ion-input",10),s.Pb(),s.Pb(),s.Qb(41,"ion-col",3),s.Qb(42,"ion-item"),s.Qb(43,"ion-label",4),s.vc(44,"Date of Work"),s.Pb(),s.Mb(45,"ion-datetime",11),s.Pb(),s.Mb(46,"app-field-error-display",12),s.Pb(),s.Qb(47,"ion-col",3),s.Qb(48,"ion-item"),s.Qb(49,"ion-label",4),s.vc(50,"Foreman Name"),s.Pb(),s.Mb(51,"ion-input",13),s.Pb(),s.Mb(52,"app-field-error-display",14),s.Pb(),s.Qb(53,"ion-col",3),s.Qb(54,"ion-item"),s.Qb(55,"ion-label",4),s.vc(56,"PCO#"),s.Pb(),s.Mb(57,"ion-input",15),s.Pb(),s.Mb(58,"app-field-error-display",16),s.Pb(),s.Qb(59,"ion-col",3),s.Qb(60,"ion-item"),s.Qb(61,"ion-label",4),s.vc(62,"Total hours before this ticket"),s.Pb(),s.Qb(63,"ion-select",17),s.Qb(64,"ion-select-option",18),s.vc(65,"Day"),s.Pb(),s.Qb(66,"ion-select-option",19),s.vc(67,"Night"),s.Pb(),s.Qb(68,"ion-select-option",20),s.vc(69,"Overtime"),s.Pb(),s.Qb(70,"ion-select-option",21),s.vc(71,"Premium Time"),s.Pb(),s.Pb(),s.Pb(),s.Mb(72,"app-field-error-display",22),s.Pb(),s.Qb(73,"ion-col",3),s.Qb(74,"ion-item"),s.Qb(75,"ion-label",4),s.vc(76,"Description of work: What? / Where? / Why?"),s.Pb(),s.Mb(77,"ion-textarea",23),s.Pb(),s.Mb(78,"app-field-error-display",24),s.Qb(79,"ion-row"),s.Qb(80,"ion-col"),s.Qb(81,"ion-button",25),s.Yb("click",function(){return t.selectWhatModal()}),s.vc(82,"what?"),s.Pb(),s.Pb(),s.Qb(83,"ion-col"),s.Qb(84,"ion-button",25),s.Yb("click",function(){return t.selectWhereModal()}),s.vc(85,"where?"),s.Pb(),s.Pb(),s.Qb(86,"ion-col"),s.Qb(87,"ion-button",25),s.Yb("click",function(){return t.selectWhyModal()}),s.vc(88,"why?"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Mb(89,"app-material",26),s.Mb(90,"app-workers",27),s.Qb(91,"ion-card-header"),s.Qb(92,"ion-card-subtitle"),s.vc(93,"Signer verifies PWT, has completed the work stated above under my supervision. Time and material listed above are accurate and approved"),s.Pb(),s.Pb(),s.Qb(94,"ion-row"),s.Qb(95,"ion-col",3),s.Qb(96,"ion-item"),s.Qb(97,"ion-label",4),s.vc(98,"Superintendent's Name:"),s.Pb(),s.Mb(99,"ion-input",28),s.Pb(),s.Mb(100,"app-field-error-display",29),s.Pb(),s.Qb(101,"ion-col",3),s.Qb(102,"ion-item"),s.Qb(103,"ion-label",4),s.vc(104,"Finish Date"),s.Pb(),s.Mb(105,"ion-datetime",30),s.Pb(),s.Mb(106,"app-field-error-display",31),s.Pb(),s.Pb(),s.Qb(107,"ion-card-header"),s.Qb(108,"ion-card-subtitle"),s.vc(109,"Pictures taken"),s.Pb(),s.Pb(),s.Qb(110,"ion-item"),s.Qb(111,"ion-label",4),s.vc(112,"Previous Images"),s.Pb(),s.Pb(),s.Qb(113,"ion-col",3),s.Mb(114,"app-images",32),s.Pb(),s.Qb(115,"ion-item"),s.Qb(116,"ion-label",4),s.vc(117,"Final Images"),s.Pb(),s.Pb(),s.Qb(118,"ion-col",3),s.Mb(119,"app-images",33),s.Pb(),s.Qb(120,"ion-col",3),s.Qb(121,"ion-card"),s.Qb(122,"ion-card-header"),s.Qb(123,"ion-card-subtitle"),s.vc(124,"Superintendent's Signature"),s.Pb(),s.Pb(),s.Mb(125,"ion-img",34),s.Qb(126,"ion-item"),s.Qb(127,"ion-button",35),s.Yb("click",function(){return t.FirmaSuperIntententeModal()}),s.Mb(128,"ion-icon",36),s.Pb(),s.Pb(),s.Pb(),s.Qb(129,"ion-card"),s.Qb(130,"ion-card-header"),s.Qb(131,"ion-card-subtitle"),s.vc(132,"Foreman Signature"),s.Pb(),s.Pb(),s.Mb(133,"ion-img",34),s.Qb(134,"ion-item"),s.Qb(135,"ion-button",35),s.Yb("click",function(){return t.FirmaForemanModal()}),s.Mb(136,"ion-icon",36),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(137,"ion-col",3),s.Qb(138,"ion-button",37),s.vc(139,"save"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&e&&(s.fc("translucent",!0),s.zb(9),s.fc("formGroup",t.new_form_ticket),s.zb(8),s.fc("displayError",t.isFieldValid("assignTicket")),s.zb(29),s.fc("displayError",t.isFieldValid("date_work")),s.zb(6),s.fc("displayError",t.isFieldValid("foreman_name")),s.zb(6),s.fc("displayError",t.isFieldValid("pco")),s.zb(14),s.fc("displayError",t.isFieldValid("horario")),s.zb(6),s.fc("displayError",t.isFieldValid("descripcion")),s.zb(22),s.fc("displayError",t.isFieldValid("superintendente_name")),s.zb(6),s.fc("displayError",t.isFieldValid("finish_date")),s.zb(8),s.fc("tipo","inicio"),s.zb(5),s.fc("tipo","fin"),s.zb(6),s.fc("src",t.getSignatureSuperIntendente()||"assets/img/signature.png"),s.zb(8),s.fc("src",t.getSignatureForeman()||"assets/img/signature.png"))},directives:[Mt.m,Mt.H,Mt.d,Mt.v,Mt.G,Mt.j,Mt.e,Mt.f,n.r,n.m,n.g,Mt.l,Mt.z,Mt.i,Mt.q,Mt.r,Mt.p,Mt.S,n.l,n.e,fi,Mt.g,Mt.h,Mt.k,Mt.R,Mt.B,Mt.C,Mt.F,Mt.c,vi,Pi,Wt,Mt.o,Mt.n],styles:[""]}),e})()},{path:"select",component:Bt},{path:"camera",component:Wt},{path:"list-Activitys",component:Jt},{path:"list-tickets/:id",component:ci}];let _i=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Jb({type:e}),e.\u0275inj=s.Ib({imports:[[Rt.j.forChild(ki)],Rt.j]}),e})(),Ii=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Jb({type:e}),e.\u0275inj=s.Ib({providers:[Ot],imports:[[o.c,n.h,Mt.I,_i,St,zt.b,n.o]]}),e})()}}]);